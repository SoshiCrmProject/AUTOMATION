(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{492:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return a(3974)}])},1297:function(e,n,a){"use strict";a.d(n,{Z:function(){return o}});var s=a(2322),t=a(5632),l=a(34);function o(){let e=(0,t.useRouter)(),{t:n}=(0,l.$G)("common"),{locale:a,pathname:o,asPath:r,query:i}=e,u="en"===a?"ja":"en",c=n("en"===u?"langEnglish":"langJapanese"),d=n("en"===u?"langEnglishShort":"langJapaneseShort");return(0,s.jsx)("button",{className:"btn btn-ghost",style:{padding:"6px 10px",fontSize:13},onClick:()=>e.push({pathname:o,query:i},r,{locale:u}),"aria-label":n("switchLanguage",{lang:c}),children:d})}},3974:function(e,n,a){"use strict";a.r(n),a.d(n,{__N_SSG:function(){return c},default:function(){return d}});var s=a(2322),t=a(2784),l=a(418),o=a(34),r=a(1297),i=a(9097),u=a.n(i),c=!0;function d(){var e,n,a,i,c;let{t:d,i18n:p}=(0,o.$G)("common"),[h,g]=(0,t.useState)(""),[m,f]=(0,t.useState)(""),[w,v]=(0,t.useState)(""),[b,x]=(0,t.useState)(""),[j,y]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(localStorage.getItem("token")||sessionStorage.getItem("token"))&&(window.location.href="/dashboard")},[]);let N=e=>!!(!(e.length<8)&&/[A-Z]/.test(e)&&/[a-z]/.test(e)&&/\d/.test(e)),S=async e=>{if(e.preventDefault(),x(""),m!==w){x(d("passwordMismatch")||"Passwords do not match");return}if(!N(m)){x(d("passwordWeak")||"Password must include upper, lower, and number");return}y(!0);try{let e=await l.Z.post("/api/auth/signup",{email:h,password:m,locale:p.language||"en"});localStorage.setItem("token",e.data.token),window.location.href="/dashboard"}catch(e){var n,a,s;x(null!==(s=null===(a=e.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.error)&&void 0!==s?s:d("signupFailed"))}finally{y(!1)}};return(0,s.jsx)("div",{className:"container",style:{maxWidth:480},children:(0,s.jsxs)("div",{className:"card",style:{marginTop:40},children:[(0,s.jsx)(r.Z,{}),(0,s.jsx)("h2",{style:{margin:"12px 0"},children:null!==(e=d("signup"))&&void 0!==e?e:"Sign up"}),(0,s.jsx)("p",{style:{color:"#cbd5e1"},children:d("signupDesc")}),(0,s.jsxs)("form",{onSubmit:S,children:[(0,s.jsx)("label",{className:"label",children:d("email")}),(0,s.jsx)("input",{className:"input",type:"email",value:h,onChange:e=>g(e.target.value),placeholder:d("email"),required:!0}),(0,s.jsx)("label",{className:"label",children:d("password")}),(0,s.jsx)("input",{className:"input",type:"password",value:m,onChange:e=>f(e.target.value),placeholder:d("password"),required:!0}),(0,s.jsx)("label",{className:"label",children:null!==(n=d("confirmPassword"))&&void 0!==n?n:"Confirm password"}),(0,s.jsx)("input",{className:"input",type:"password",value:w,onChange:e=>v(e.target.value),placeholder:null!==(a=d("confirmPassword"))&&void 0!==a?a:"Confirm password",required:!0}),b&&(0,s.jsx)("p",{style:{color:"#fca5a5"},children:b}),(0,s.jsx)("button",{className:"btn",type:"submit",style:{width:"100%",marginTop:12},children:j?d("loading"):null!==(i=d("signup"))&&void 0!==i?i:"Sign up"})]}),(0,s.jsxs)("p",{style:{color:"#94a3b8",marginTop:12},children:[null!==(c=d("haveAccount"))&&void 0!==c?c:"Already have an account?"," ",(0,s.jsx)(u(),{href:"/login",style:{color:"#2563eb"},children:d("login")})]})]})})}}},function(e){e.O(0,[418,97,888,774,179],function(){return e(e.s=492)}),_N_E=e.O()}]);