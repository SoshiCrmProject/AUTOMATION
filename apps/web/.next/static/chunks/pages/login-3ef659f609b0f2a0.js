(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7946:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(3102)}])},1297:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var a=t(2322),l=t(5632),o=t(34);function s(){let e=(0,l.useRouter)(),{t:n}=(0,o.$G)("common"),{locale:t,pathname:s,asPath:i,query:r}=e,c="en"===t?"ja":"en",u=n("en"===c?"langEnglish":"langJapanese"),d=n("en"===c?"langEnglishShort":"langJapaneseShort");return(0,a.jsx)("button",{className:"btn btn-ghost",style:{padding:"6px 10px",fontSize:13},onClick:()=>e.push({pathname:s,query:r},i,{locale:c}),"aria-label":n("switchLanguage",{lang:u}),children:d})}},3102:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return u},default:function(){return d}});var a=t(2322),l=t(2784),o=t(418),s=t(34),i=t(1297),r=t(9097),c=t.n(r),u=!0;function d(){var e;let{t:n}=(0,s.$G)("common"),[t,r]=(0,l.useState)(""),[u,d]=(0,l.useState)(""),[h,g]=(0,l.useState)(""),[p,m]=(0,l.useState)(!0),[f,b]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(localStorage.getItem("token")||sessionStorage.getItem("token"))&&(window.location.href="/dashboard")},[]);let x=async e=>{e.preventDefault(),g(""),b(!0);try{let e=await o.Z.post("/api/auth/login",{email:t,password:u});p?(localStorage.setItem("token",e.data.token),sessionStorage.removeItem("token")):(sessionStorage.setItem("token",e.data.token),localStorage.removeItem("token")),window.location.href="/dashboard"}catch(e){var a,l,s;g(null!==(s=null===(l=e.response)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.error)&&void 0!==s?s:n("loginFailed"))}finally{b(!1)}};return(0,a.jsx)("div",{className:"container",style:{maxWidth:480},children:(0,a.jsxs)("div",{className:"card",style:{marginTop:40},children:[(0,a.jsx)(i.Z,{}),(0,a.jsx)("h2",{style:{margin:"12px 0"},children:n("login")}),(0,a.jsx)("p",{style:{color:"#cbd5e1"},children:n("loginDesc")}),(0,a.jsxs)("form",{onSubmit:x,children:[(0,a.jsx)("label",{className:"label",children:n("email")}),(0,a.jsx)("input",{className:"input",type:"email",value:t,onChange:e=>r(e.target.value),placeholder:n("email"),required:!0}),(0,a.jsx)("label",{className:"label",children:n("password")}),(0,a.jsx)("input",{className:"input",type:"password",value:u,onChange:e=>d(e.target.value),placeholder:n("password"),required:!0}),(0,a.jsxs)("label",{style:{color:"#cbd5e1",fontSize:14},children:[(0,a.jsx)("input",{type:"checkbox",checked:p,onChange:e=>m(e.target.checked),style:{marginRight:6}}),n("rememberMe")]}),h&&(0,a.jsx)("p",{style:{color:"#fca5a5"},children:h}),(0,a.jsx)("button",{className:"btn",type:"submit",style:{width:"100%",marginTop:12},children:f?n("loading"):n("login")})]}),(0,a.jsxs)("p",{style:{color:"#94a3b8",marginTop:12},children:[null!==(e=n("noAccount"))&&void 0!==e?e:"No account?"," ",(0,a.jsx)(c(),{href:"/signup",style:{color:"#2563eb"},children:n("signup")})]})]})})}}},function(e){e.O(0,[418,97,888,774,179],function(){return e(e.s=7946)}),_N_E=e.O()}]);