(()=>{var e={};e.id=616,e.ids=[616,888,660],e.modules={961:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{config:()=>x,default:()=>d,getServerSideProps:()=>m,getStaticPaths:()=>h,getStaticProps:()=>g,reportWebVitals:()=>f,routeModule:()=>P,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>S,unstable_getStaticProps:()=>b});var r=s(8877),i=s(4591),n=s(6021),l=s(552),o=s.n(l),u=s(5270),c=s(3974),p=e([c]);c=(p.then?(await p)():p)[0];let d=(0,n.l)(c,"default"),g=(0,n.l)(c,"getStaticProps"),h=(0,n.l)(c,"getStaticPaths"),m=(0,n.l)(c,"getServerSideProps"),x=(0,n.l)(c,"config"),f=(0,n.l)(c,"reportWebVitals"),b=(0,n.l)(c,"unstable_getStaticProps"),S=(0,n.l)(c,"unstable_getStaticPaths"),v=(0,n.l)(c,"unstable_getStaticParams"),j=(0,n.l)(c,"unstable_getServerProps"),y=(0,n.l)(c,"unstable_getServerSideProps"),P=new r.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/signup",pathname:"/signup",bundlePath:"",filename:""},components:{App:u.default,Document:o()},userland:c});a()}catch(e){a(e)}})},1297:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(997),r=s(5632),i=s(1377);function n(){let e=(0,r.useRouter)(),{t}=(0,i.useTranslation)("common"),{locale:s,pathname:n,asPath:l,query:o}=e,u="en"===s?"ja":"en",c=t("en"===u?"langEnglish":"langJapanese"),p=t("en"===u?"langEnglishShort":"langJapaneseShort");return a.jsx("button",{className:"btn btn-ghost",style:{padding:"6px 10px",fontSize:13},onClick:()=>e.push({pathname:n,query:o},l,{locale:u}),"aria-label":t("switchLanguage",{lang:c}),children:p})}},7029:(e,t,s)=>{"use strict";s.d(t,{M:()=>l,Z:()=>o});var a=s(997),r=s(6689),i=s(1377);let n=null;function l(e,t="success"){n&&n(e,t)}function o(){let{t:e}=(0,i.useTranslation)("common"),[t,s]=(0,r.useState)([]);return(0,r.useEffect)(()=>(n=(e,t="success")=>{let a=Date.now();s(s=>[...s,{message:e,type:t,id:a}]),setTimeout(()=>{s(e=>e.filter(e=>e.id!==a))},4e3)},()=>{n=null}),[]),a.jsx("div",{style:{position:"fixed",top:20,right:20,display:"grid",gap:8,zIndex:9999},children:t.map(t=>(0,a.jsxs)("div",{className:"card",style:{minWidth:240,borderLeft:`4px solid ${"error"===t.type?"#f87171":"#22c55e"}`,background:"rgba(15,23,42,0.9)"},role:"status","aria-live":"polite",children:[a.jsx("strong",{children:"error"===t.type?e("toastError"):e("toastSuccess")}),a.jsx("p",{style:{margin:0,color:"#cbd5e1"},children:t.message})]},t.id))})}},1522:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>l});var r=s(9648),i=e([r]);let n=(r=(i.then?(await i)():i)[0]).default.create({baseURL:"https://automation-api-tau.vercel.app"});n.defaults.adapter,n.interceptors.request.use(e=>{let t=e.url||"";if(t.startsWith("/api/orders/"))e.url=t.replace("/api","");else for(let s of["/api/settings","/api/credentials/","/api/shops","/api/admin/","/api/ops/","/api/auth/","/api/mappings","/api/products/","/api/profit/"])if(t.startsWith(s)){e.url=t.replace("/api","");break}return e}),n.interceptors.response.use(e=>e,e=>(e.response?.status,Promise.reject(e)));let l=n;a()}catch(e){a(e)}})},6768:e=>{"use strict";e.exports={i18n:{defaultLocale:"ja",locales:["en","ja"]},reloadOnPrerender:!1}},5270:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(997),r=s(1377),i=s(5237),n=s.n(i),l=s(5632);s(5748);var o=s(7029),u=s(6768),c=s.n(u);let p=n()(()=>s.e(272).then(s.bind(s,8272)),{loadableGenerated:{modules:["_app.tsx -> ../components/OnboardingModal"]},ssr:!1,loading:()=>null}),d=(0,r.appWithTranslation)(function({Component:e,pageProps:t}){let s=(0,l.useRouter)().pathname||"",r=s.startsWith("/login")||s.startsWith("/signup");return(0,a.jsxs)("div",{className:"shell",children:[a.jsx(e,{...t}),!r&&a.jsx(p,{}),a.jsx(o.Z,{})]})},c())},3974:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>g,getStaticProps:()=>h});var r=s(997),i=s(6689),n=s(1377),l=s(5460),o=s(1297),u=s(9097),c=s.n(u),p=s(1522),d=e([p]);function g(){let{t:e,i18n:t}=(0,n.useTranslation)("common"),[s,a]=(0,i.useState)(""),[l,u]=(0,i.useState)(""),[d,g]=(0,i.useState)(""),[h,m]=(0,i.useState)(""),[x,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>{},[]);let b=e=>!!(!(e.length<8)&&/[A-Z]/.test(e)&&/[a-z]/.test(e)&&/\d/.test(e)),S=async a=>{if(a.preventDefault(),m(""),l!==d){m(e("passwordMismatch")||"Passwords do not match");return}if(!b(l)){m(e("passwordWeak")||"Password must include upper, lower, and number");return}f(!0);try{let e=await p.Z.post("/auth/signup",{email:s,password:l,locale:t.language||"en"});localStorage.setItem("token",e.data.token),window.location.href="/dashboard"}catch(t){m(t.response?.data?.error??e("signupFailed"))}finally{f(!1)}};return r.jsx("div",{className:"container",style:{maxWidth:480},children:(0,r.jsxs)("div",{className:"card",style:{marginTop:40},children:[r.jsx(o.Z,{}),r.jsx("h2",{style:{margin:"12px 0"},children:e("signup")??"Sign up"}),r.jsx("p",{style:{color:"#cbd5e1"},children:e("signupDesc")}),(0,r.jsxs)("form",{onSubmit:S,children:[r.jsx("label",{className:"label",children:e("email")}),r.jsx("input",{className:"input",type:"email",value:s,onChange:e=>a(e.target.value),placeholder:e("email"),required:!0}),r.jsx("label",{className:"label",children:e("password")}),r.jsx("input",{className:"input",type:"password",value:l,onChange:e=>u(e.target.value),placeholder:e("password"),required:!0}),r.jsx("label",{className:"label",children:e("confirmPassword")??"Confirm password"}),r.jsx("input",{className:"input",type:"password",value:d,onChange:e=>g(e.target.value),placeholder:e("confirmPassword")??"Confirm password",required:!0}),h&&r.jsx("p",{style:{color:"#fca5a5"},children:h}),r.jsx("button",{className:"btn",type:"submit",style:{width:"100%",marginTop:12},children:x?e("loading"):e("signup")??"Sign up"})]}),(0,r.jsxs)("p",{style:{color:"#94a3b8",marginTop:12},children:[e("haveAccount")??"Already have an account?"," ",r.jsx(c(),{href:"/login",style:{color:"#2563eb"},children:e("login")})]})]})})}async function h({locale:e}){return{props:{...await (0,l.serverSideTranslations)(e,["common"])}}}p=(d.then?(await d)():d)[0],a()}catch(e){a(e)}})},5748:()=>{},1377:e=>{"use strict";e.exports=require("next-i18next")},5460:e=>{"use strict";e.exports=require("next-i18next/serverSideTranslations")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9648:e=>{"use strict";e.exports=import("axios")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[332,839,552,754],()=>s(961));module.exports=a})();