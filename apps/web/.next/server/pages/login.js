(()=>{var e={};e.id=459,e.ids=[459,888,660],e.modules={8645:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>x,default:()=>d,getServerSideProps:()=>m,getStaticPaths:()=>g,getStaticProps:()=>h,reportWebVitals:()=>f,routeModule:()=>P,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>j,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>S,unstable_getStaticProps:()=>b});var a=r(8877),i=r(4591),n=r(6021),o=r(552),l=r.n(o),c=r(4076),u=r(3102),p=e([u]);u=(p.then?(await p)():p)[0];let d=(0,n.l)(u,"default"),h=(0,n.l)(u,"getStaticProps"),g=(0,n.l)(u,"getStaticPaths"),m=(0,n.l)(u,"getServerSideProps"),x=(0,n.l)(u,"config"),f=(0,n.l)(u,"reportWebVitals"),b=(0,n.l)(u,"unstable_getStaticProps"),S=(0,n.l)(u,"unstable_getStaticPaths"),v=(0,n.l)(u,"unstable_getStaticParams"),y=(0,n.l)(u,"unstable_getServerProps"),j=(0,n.l)(u,"unstable_getServerSideProps"),P=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/login",pathname:"/login",bundlePath:"",filename:""},components:{App:c.default,Document:l()},userland:u});s()}catch(e){s(e)}})},1297:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(997),a=r(5632),i=r(1377);function n(){let e=(0,a.useRouter)(),{t}=(0,i.useTranslation)("common"),{locale:r,pathname:n,asPath:o,query:l}=e,c="en"===r?"ja":"en",u=t("en"===c?"langEnglish":"langJapanese"),p=t("en"===c?"langEnglishShort":"langJapaneseShort");return s.jsx("button",{className:"btn btn-ghost",style:{padding:"6px 10px",fontSize:13},onClick:()=>e.push({pathname:n,query:l},o,{locale:c}),"aria-label":t("switchLanguage",{lang:u}),children:p})}},7029:(e,t,r)=>{"use strict";r.d(t,{M:()=>o,Z:()=>l});var s=r(997),a=r(6689),i=r(1377);let n=null;function o(e,t="success"){n&&n(e,t)}function l(){let{t:e}=(0,i.useTranslation)("common"),[t,r]=(0,a.useState)([]);return(0,a.useEffect)(()=>(n=(e,t="success")=>{let s=Date.now();r(r=>[...r,{message:e,type:t,id:s}]),setTimeout(()=>{r(e=>e.filter(e=>e.id!==s))},4e3)},()=>{n=null}),[]),s.jsx("div",{style:{position:"fixed",top:20,right:20,display:"grid",gap:8,zIndex:9999},children:t.map(t=>(0,s.jsxs)("div",{className:"card",style:{minWidth:240,borderLeft:`4px solid ${"error"===t.type?"#f87171":"#22c55e"}`,background:"rgba(15,23,42,0.9)"},role:"status","aria-live":"polite",children:[s.jsx("strong",{children:"error"===t.type?e("toastError"):e("toastSuccess")}),s.jsx("p",{style:{margin:0,color:"#cbd5e1"},children:t.message})]},t.id))})}},1522:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{Z:()=>o});var a=r(9648),i=e([a]);let n=(a=(i.then?(await i)():i)[0]).default.create({baseURL:"https://automation-api-tau.vercel.app"});n.defaults.adapter,n.interceptors.request.use(e=>{let t=e.url||"";if(t.startsWith("/api/orders/"))e.url=t.replace("/api","");else for(let r of["/api/settings","/api/credentials/","/api/shops","/api/admin/","/api/ops/","/api/auth/","/api/mappings","/api/products/","/api/profit/"])if(t.startsWith(r)){e.url=t.replace("/api","");break}return e}),n.interceptors.response.use(e=>e,e=>(e.response?.status,Promise.reject(e)));let o=n;s()}catch(e){s(e)}})},2722:(e,t,r)=>{"use strict";r.d(t,{_:()=>s,u:()=>a});let s="autoship-auth-change",a=()=>{}},6768:e=>{"use strict";e.exports={i18n:{defaultLocale:"ja",locales:["en","ja"]},reloadOnPrerender:!1}},4076:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(997),a=r(1377),i=r(5237),n=r.n(i),o=r(5632);r(5748);var l=r(7029),c=r(6689);class u extends c.Component{constructor(e){super(e),this.state={hasError:!1,error:void 0}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"40px",textAlign:"center",background:"var(--color-surface)"},role:"alert","aria-live":"assertive",children:[s.jsx("div",{style:{fontSize:"64px",marginBottom:"24px",opacity:.5},children:"⚠️"}),s.jsx("h1",{style:{fontSize:"32px",fontWeight:700,color:"var(--color-text)",marginBottom:"12px"},children:"Something went wrong"}),s.jsx("p",{style:{fontSize:"16px",color:"var(--color-text-muted)",marginBottom:"32px",maxWidth:"500px"},children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1,s.jsx("button",{className:"btn",onClick:()=>window.location.reload(),style:{minWidth:"200px"},children:"\uD83D\uDD04 Reload Page"})]}):this.props.children}}var p=r(6768),d=r.n(p);let h=n()(()=>r.e(272).then(r.bind(r,8272)),{loadableGenerated:{modules:["_app.tsx -> ../components/OnboardingModal"]},ssr:!1,loading:()=>null}),g=(0,a.appWithTranslation)(function({Component:e,pageProps:t}){let r=(0,o.useRouter)().pathname||"",a=r.startsWith("/login")||r.startsWith("/signup");return s.jsx(u,{children:(0,s.jsxs)("div",{className:"shell",children:[s.jsx(e,{...t}),!a&&s.jsx(h,{}),s.jsx(l.Z,{})]})})},d())},3102:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>g,getStaticProps:()=>m});var a=r(997),i=r(6689),n=r(1377),o=r(5460),l=r(1297),c=r(9097),u=r.n(c),p=r(1522),d=r(2722),h=e([p]);function g(){let{t:e}=(0,n.useTranslation)("common"),[t,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[c,h]=(0,i.useState)(""),[g,m]=(0,i.useState)(!0),[x,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>{},[]);let b=async r=>{r.preventDefault(),h(""),f(!0);try{let e=await p.Z.post("/auth/login",{email:t,password:s});g?(localStorage.setItem("token",e.data.token),sessionStorage.removeItem("token")):(sessionStorage.setItem("token",e.data.token),localStorage.removeItem("token")),(0,d.u)(),window.location.href="/dashboard"}catch(t){h(t.response?.data?.error??e("loginFailed"))}finally{f(!1)}};return a.jsx("div",{className:"container",style:{maxWidth:480},children:(0,a.jsxs)("div",{className:"card",style:{marginTop:40},children:[a.jsx(l.Z,{}),a.jsx("h2",{style:{margin:"12px 0"},children:e("login")}),a.jsx("p",{style:{color:"#cbd5e1"},children:e("loginDesc")}),(0,a.jsxs)("form",{onSubmit:b,children:[a.jsx("label",{className:"label",children:e("email")}),a.jsx("input",{className:"input",type:"email",value:t,onChange:e=>r(e.target.value),placeholder:e("email"),required:!0}),a.jsx("label",{className:"label",children:e("password")}),a.jsx("input",{className:"input",type:"password",value:s,onChange:e=>o(e.target.value),placeholder:e("password"),required:!0}),(0,a.jsxs)("label",{style:{color:"#cbd5e1",fontSize:14},children:[a.jsx("input",{type:"checkbox",checked:g,onChange:e=>m(e.target.checked),style:{marginRight:6}}),e("rememberMe")]}),c&&a.jsx("p",{style:{color:"#fca5a5"},children:c}),a.jsx("button",{className:"btn",type:"submit",style:{width:"100%",marginTop:12},children:x?e("loading"):e("login")})]}),(0,a.jsxs)("p",{style:{color:"#94a3b8",marginTop:12},children:[e("noAccount")??"No account?"," ",a.jsx(u(),{href:"/signup",style:{color:"#2563eb"},children:e("signup")})]})]})})}async function m({locale:e}){return{props:{...await (0,o.serverSideTranslations)(e,["common"])}}}p=(h.then?(await h)():h)[0],s()}catch(e){s(e)}})},5748:()=>{},1377:e=>{"use strict";e.exports=require("next-i18next")},5460:e=>{"use strict";e.exports=require("next-i18next/serverSideTranslations")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9648:e=>{"use strict";e.exports=import("axios")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[332,839,552,754],()=>r(8645));module.exports=s})();