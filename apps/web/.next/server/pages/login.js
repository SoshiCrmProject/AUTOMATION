(()=>{var e={};e.id=459,e.ids=[459,888,660],e.modules={8645:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>x,default:()=>p,getServerSideProps:()=>m,getStaticPaths:()=>h,getStaticProps:()=>g,reportWebVitals:()=>b,routeModule:()=>P,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>S});var a=s(8877),n=s(4591),i=s(6021),l=s(552),o=s.n(l),c=s(5270),u=s(3102),d=e([u]);u=(d.then?(await d)():d)[0];let p=(0,i.l)(u,"default"),g=(0,i.l)(u,"getStaticProps"),h=(0,i.l)(u,"getStaticPaths"),m=(0,i.l)(u,"getServerSideProps"),x=(0,i.l)(u,"config"),b=(0,i.l)(u,"reportWebVitals"),S=(0,i.l)(u,"unstable_getStaticProps"),f=(0,i.l)(u,"unstable_getStaticPaths"),v=(0,i.l)(u,"unstable_getStaticParams"),j=(0,i.l)(u,"unstable_getServerProps"),y=(0,i.l)(u,"unstable_getServerSideProps"),P=new a.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/login",pathname:"/login",bundlePath:"",filename:""},components:{App:c.default,Document:o()},userland:u});r()}catch(e){r(e)}})},1297:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(997),a=s(5632),n=s(1377);function i(){let e=(0,a.useRouter)(),{t}=(0,n.useTranslation)("common"),{locale:s,pathname:i,asPath:l,query:o}=e,c="en"===s?"ja":"en",u=t("en"===c?"langEnglish":"langJapanese"),d=t("en"===c?"langEnglishShort":"langJapaneseShort");return r.jsx("button",{className:"btn btn-ghost",style:{padding:"6px 10px",fontSize:13},onClick:()=>e.push({pathname:i,query:o},l,{locale:c}),"aria-label":t("switchLanguage",{lang:u}),children:d})}},7029:(e,t,s)=>{"use strict";s.d(t,{M:()=>l,Z:()=>o});var r=s(997),a=s(6689),n=s(1377);let i=null;function l(e,t="success"){i&&i(e,t)}function o(){let{t:e}=(0,n.useTranslation)("common"),[t,s]=(0,a.useState)([]);return(0,a.useEffect)(()=>(i=(e,t="success")=>{let r=Date.now();s(s=>[...s,{message:e,type:t,id:r}]),setTimeout(()=>{s(e=>e.filter(e=>e.id!==r))},4e3)},()=>{i=null}),[]),r.jsx("div",{style:{position:"fixed",top:20,right:20,display:"grid",gap:8,zIndex:9999},children:t.map(t=>(0,r.jsxs)("div",{className:"card",style:{minWidth:240,borderLeft:`4px solid ${"error"===t.type?"#f87171":"#22c55e"}`,background:"rgba(15,23,42,0.9)"},role:"status","aria-live":"polite",children:[r.jsx("strong",{children:"error"===t.type?e("toastError"):e("toastSuccess")}),r.jsx("p",{style:{margin:0,color:"#cbd5e1"},children:t.message})]},t.id))})}},6768:e=>{"use strict";e.exports={i18n:{defaultLocale:"en",locales:["en","ja"]},reloadOnPrerender:!1}},5270:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(997),a=s(1377),n=s(5237),i=s.n(n),l=s(5632);s(5748);var o=s(7029),c=s(6768),u=s.n(c);let d=i()(()=>s.e(272).then(s.bind(s,8272)),{loadableGenerated:{modules:["_app.tsx -> ../components/OnboardingModal"]},ssr:!1,loading:()=>null}),p=(0,a.appWithTranslation)(function({Component:e,pageProps:t}){let s=(0,l.useRouter)().pathname||"",a=s.startsWith("/login")||s.startsWith("/signup");return(0,r.jsxs)("div",{className:"shell",children:[r.jsx(e,{...t}),!a&&r.jsx(d,{}),r.jsx(o.Z,{})]})},u())},3102:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>g,getStaticProps:()=>h});var a=s(997),n=s(6689),i=s(9648),l=s(1377),o=s(5460),c=s(1297),u=s(9097),d=s.n(u),p=e([i]);function g(){let{t:e}=(0,l.useTranslation)("common"),[t,s]=(0,n.useState)(""),[r,o]=(0,n.useState)(""),[u,p]=(0,n.useState)(""),[g,h]=(0,n.useState)(!0),[m,x]=(0,n.useState)(!1);(0,n.useEffect)(()=>{},[]);let b=async s=>{s.preventDefault(),p(""),x(!0);try{let e=await i.default.post("/api/auth/login",{email:t,password:r});g?(localStorage.setItem("token",e.data.token),sessionStorage.removeItem("token")):(sessionStorage.setItem("token",e.data.token),localStorage.removeItem("token")),window.location.href="/dashboard"}catch(t){p(t.response?.data?.error??e("loginFailed"))}finally{x(!1)}};return a.jsx("div",{className:"container",style:{maxWidth:480},children:(0,a.jsxs)("div",{className:"card",style:{marginTop:40},children:[a.jsx(c.Z,{}),a.jsx("h2",{style:{margin:"12px 0"},children:e("login")}),a.jsx("p",{style:{color:"#cbd5e1"},children:e("loginDesc")}),(0,a.jsxs)("form",{onSubmit:b,children:[a.jsx("label",{className:"label",children:e("email")}),a.jsx("input",{className:"input",type:"email",value:t,onChange:e=>s(e.target.value),placeholder:e("email"),required:!0}),a.jsx("label",{className:"label",children:e("password")}),a.jsx("input",{className:"input",type:"password",value:r,onChange:e=>o(e.target.value),placeholder:e("password"),required:!0}),(0,a.jsxs)("label",{style:{color:"#cbd5e1",fontSize:14},children:[a.jsx("input",{type:"checkbox",checked:g,onChange:e=>h(e.target.checked),style:{marginRight:6}}),e("rememberMe")]}),u&&a.jsx("p",{style:{color:"#fca5a5"},children:u}),a.jsx("button",{className:"btn",type:"submit",style:{width:"100%",marginTop:12},children:m?e("loading"):e("login")})]}),(0,a.jsxs)("p",{style:{color:"#94a3b8",marginTop:12},children:[e("noAccount")??"No account?"," ",a.jsx(d(),{href:"/signup",style:{color:"#2563eb"},children:e("signup")})]})]})})}async function h({locale:e}){return{props:{...await (0,o.serverSideTranslations)(e,["common"])}}}i=(p.then?(await p)():p)[0],r()}catch(e){r(e)}})},5748:()=>{},1377:e=>{"use strict";e.exports=require("next-i18next")},5460:e=>{"use strict";e.exports=require("next-i18next/serverSideTranslations")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9648:e=>{"use strict";e.exports=import("axios")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[332,839,552,754],()=>s(8645));module.exports=r})();