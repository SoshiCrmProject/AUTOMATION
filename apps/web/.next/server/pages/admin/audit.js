"use strict";(()=>{var e={};e.id=19,e.ids=[19,660],e.modules={3951:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>S,default:()=>p,getServerSideProps:()=>m,getStaticPaths:()=>h,getStaticProps:()=>x,reportWebVitals:()=>g,routeModule:()=>q,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>f,unstable_getStaticParams:()=>P,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>j});var s=r(8877),i=r(4591),n=r(6021),l=r(552),d=r.n(l),c=r(5270),o=r(6),u=e([o]);o=(u.then?(await u)():u)[0];let p=(0,n.l)(o,"default"),x=(0,n.l)(o,"getStaticProps"),h=(0,n.l)(o,"getStaticPaths"),m=(0,n.l)(o,"getServerSideProps"),S=(0,n.l)(o,"config"),g=(0,n.l)(o,"reportWebVitals"),j=(0,n.l)(o,"unstable_getStaticProps"),b=(0,n.l)(o,"unstable_getStaticPaths"),P=(0,n.l)(o,"unstable_getStaticParams"),v=(0,n.l)(o,"unstable_getServerProps"),f=(0,n.l)(o,"unstable_getServerSideProps"),q=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/admin/audit",pathname:"/admin/audit",bundlePath:"",filename:""},components:{App:c.default,Document:d()},userland:o});a()}catch(e){a(e)}})},6:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>p,getStaticProps:()=>x});var s=r(997),i=r(6689),n=r(5460),l=r(1377),d=r(2684),c=r(1522),o=r(7029),u=e([c]);function p(){let{t:e}=(0,l.useTranslation)("common"),[t,r]=(0,i.useState)([]),[a,n]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{n(!0),c.Z.get("/api/admin/audit").then(e=>r(e.data)).catch(t=>(0,o.M)(t?.response?.data?.error??e("genericError"),"error")).finally(()=>n(!1))},[]),(0,s.jsxs)("div",{className:"container",children:[s.jsx(d.Z,{activeHref:"/admin/users"}),(0,s.jsxs)("div",{className:"card",children:[s.jsx("h1",{children:e("adminAuditTitle")}),s.jsx("p",{children:e("adminAuditDesc")})]}),(0,s.jsxs)("div",{className:"card",children:[a&&s.jsx("p",{children:e("loading")}),(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{children:[s.jsx("th",{children:e("userLabel")}),s.jsx("th",{children:e("actionLabel")}),s.jsx("th",{children:e("detailLabel")}),s.jsx("th",{children:e("timeLabel")})]})}),s.jsx("tbody",{children:t.map(e=>(0,s.jsxs)("tr",{children:[s.jsx("td",{children:e.user?.email??"-"}),s.jsx("td",{children:e.action}),s.jsx("td",{children:s.jsx("code",{children:e.detail?JSON.stringify(e.detail):"-"})}),s.jsx("td",{children:new Date(e.createdAt).toLocaleString()})]},e.id))})]})]})]})}async function x({locale:e}){return{props:{...await (0,n.serverSideTranslations)(e,["common"])}}}c=(u.then?(await u)():u)[0],a()}catch(e){a(e)}})},1377:e=>{e.exports=require("next-i18next")},5460:e=>{e.exports=require("next-i18next/serverSideTranslations")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9648:e=>{e.exports=import("axios")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[332,839,552,754,52],()=>r(3951));module.exports=a})();