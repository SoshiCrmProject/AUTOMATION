"use strict";(()=>{var e={};e.id=26,e.ids=[26,660],e.modules={667:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>x,default:()=>p,getServerSideProps:()=>m,getStaticPaths:()=>g,getStaticProps:()=>h,reportWebVitals:()=>f,routeModule:()=>D,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>S,unstable_getStaticProps:()=>v});var a=s(8877),i=s(4591),n=s(6021),l=s(552),o=s.n(l),c=s(5270),d=s(283),u=e([d]);d=(u.then?(await u)():u)[0];let p=(0,n.l)(d,"default"),h=(0,n.l)(d,"getStaticProps"),g=(0,n.l)(d,"getStaticPaths"),m=(0,n.l)(d,"getServerSideProps"),x=(0,n.l)(d,"config"),f=(0,n.l)(d,"reportWebVitals"),v=(0,n.l)(d,"unstable_getStaticProps"),S=(0,n.l)(d,"unstable_getStaticPaths"),b=(0,n.l)(d,"unstable_getStaticParams"),j=(0,n.l)(d,"unstable_getServerProps"),y=(0,n.l)(d,"unstable_getServerSideProps"),D=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/dashboard",pathname:"/dashboard",bundlePath:"",filename:""},components:{App:c.default,Document:o()},userland:d});r()}catch(e){r(e)}})},1021:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.d(t,{Z:()=>c});var a=s(997),i=s(5941),n=s(1522),l=s(1377),o=e([i,n]);[i,n]=o.then?(await o)():o;let d=e=>n.Z.get(e).then(e=>e.data);function c(){let{t:e}=(0,l.useTranslation)("common"),{data:t}=(0,i.default)("/api/settings",d),s=t?.isActive,r=t?.isDryRun;return(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{style:{marginTop:0},children:e("automationStatusTitle")}),(0,a.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[a.jsx("span",{className:"pill",style:{background:s?"#bbf7d0":"#fecdd3"},children:e(s?"on":"off")}),a.jsx("span",{className:"pill",style:{background:r?"#e0e7ff":"#e2e8f0"},children:e(r?"pillDryRun":"pillLive")})]}),(0,a.jsxs)("div",{style:{display:"grid",gap:6,marginTop:12,color:"#475569",fontSize:14},children:[a.jsx("div",{children:e("profitRuleLabel",{value:t?.minExpectedProfit??"—"})}),a.jsx("div",{children:e("maxShippingLabel",{value:t?.maxShippingDays??"—"})}),(0,a.jsxs)("div",{children:[e(t?.includeAmazonPoints?"pointsIncluded":"pointsExcluded")," \xb7"," ",e(t?.includeDomesticShipping?"domesticIncluded":"domesticExcluded")]})]})]})}r()}catch(e){r(e)}})},5364:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.d(t,{Z:()=>u});var a=s(997),i=s(5941),n=s(9097),l=s.n(n),o=s(1522),c=s(1377),d=e([i,o]);[i,o]=d.then?(await d)():d;let p=e=>o.Z.get(e).then(e=>e.data);function u(){let{t:e}=(0,c.useTranslation)("common"),{data:t,error:s}=(0,i.default)("/api/credentials/shopee",p),{data:r,error:n}=(0,i.default)("/api/credentials/amazon",p),{data:o,error:d}=(0,i.default)("/api/settings",p),u=[{label:e("onboardingStepConnectShopee"),done:!!(t?.partnerId&&t?.hasSecrets),link:"/settings"},{label:e("onboardingStepConnectAmazon"),done:!!r?.hasPassword,link:"/settings"},{label:e("onboardingStepSetRules"),done:void 0!==o,link:"/settings"},{label:e("onboardingStepActivate"),done:!!o?.isActive,link:"/settings"}];return(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{style:{marginTop:0},children:e("onboardingChecklistTitle")}),!t&&!r&&!o&&!(s||n||d)&&a.jsx("p",{children:e("loading")}),(s||n||d)&&a.jsx("p",{style:{color:"#ef4444"},children:e("genericError")}),a.jsx("div",{className:"grid grid-2",children:u.map(t=>(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("span",{className:"pill",style:{background:t.done?"#bbf7d0":"#e2e8f0"},children:t.done?"✓":"•"}),(0,a.jsxs)("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:600},children:t.label}),!t.done&&a.jsx(l(),{className:"btn btn-ghost",href:t.link,style:{padding:"6px 10px",fontSize:13},children:e("go")})]})]},t.label))})]})}r()}catch(e){r(e)}})},5697:(e,t,s)=>{s.d(t,{Z:()=>a});var r=s(997);function a({status:e,labels:t}){let s=e?.toUpperCase?.()||"",a="#cbd5e1",i="#0f172a",n=e;return["FULFILLED","PLACED"].includes(s)?(a="#dcfce7",i="#166534",n=t.success):["FAILED","SKIPPED"].includes(s)?(a="#fee2e2",i="#991b1b",n=t.error):["QUEUED","PROCESSING","UNPROCESSED"].includes(s)?(a="#e0f2fe",i="#075985",n=t.pending):["MANUAL_REVIEW"].includes(s)&&(a="#e2e8f0",i="#0f172a",n=t.manual),r.jsx("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 8px",borderRadius:999,fontSize:12,fontWeight:600,background:a,color:i},children:n})}},283:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>x,getStaticProps:()=>f});var a=s(997),i=s(5941),n=s(5460),l=s(1377),o=s(1522),c=s(9097),d=s.n(c),u=s(5364),p=s(2684),h=s(1021),g=s(5697),m=e([i,o,u,h]);[i,o,u,h]=m.then?(await m)():m;let v=e=>o.Z.get(e).then(e=>e.data);function x(){let{t:e}=(0,l.useTranslation)("common"),{data:t}=(0,i.default)("/api/orders/recent",v),{data:s}=(0,i.default)("/api/ops/queue",v,{shouldRetryOnError:!1}),{data:r}=(0,i.default)("/health",v,{shouldRetryOnError:!1}),n=t?t.filter(e=>"FULFILLED"===e.processingStatus).length:"—",o=t?t.filter(e=>"FAILED"===e.processingStatus||"SKIPPED"===e.processingStatus||e.errorItems.length).length:"—",c=t?t.filter(e=>"QUEUED"===e.processingStatus||"PROCESSING"===e.processingStatus||"UNPROCESSED"===e.processingStatus).length:"—",m=[{title:e("statusProcessed"),value:n,desc:e("metricSuccessDesc"),color:"var(--color-success)",icon:"✅"},{title:e("statusError"),value:o,desc:e("metricErrorsDesc"),color:"var(--color-error)",icon:"⚠️"},{title:e("metricQueueLabel"),value:s?`${s.waiting} ${e("waiting")} / ${s.active} ${e("active")}`:"—",desc:e("metricQueueDesc"),color:"var(--color-secondary)",icon:"⚡"},{title:e("statusPending"),value:c,desc:e("statusDecisionPending"),color:"var(--color-info)",icon:"⏳"}];return(0,a.jsxs)("div",{className:"shell",children:[a.jsx(p.Z,{activeHref:"/dashboard"}),(0,a.jsxs)("div",{className:"container",children:[a.jsx("div",{className:"hero",style:{marginBottom:32},children:(0,a.jsxs)("div",{children:[a.jsx("h1",{style:{fontSize:36,margin:0},children:"\uD83C\uDFAF Dashboard"}),a.jsx("p",{style:{color:"var(--color-text-muted)",marginTop:8},children:"Monitor your dropshipping operations in real-time"})]})}),(0,a.jsxs)("div",{className:"alert alert-success",style:{marginBottom:24,alignItems:"center"},children:[a.jsx("span",{style:{fontSize:24},children:r?"✅":"❌"}),(0,a.jsxs)("div",{style:{flex:1},children:[a.jsx("strong",{children:r?e("statusHealthy")??"System Healthy":e("genericError")}),s&&(0,a.jsxs)("p",{style:{marginTop:4,opacity:.9},children:["Queue: ",s.waiting," ",e("waiting")," / ",s.active," ",e("active")," / ",s.failed," failed"]})]}),a.jsx(g.Z,{status:r?"FULFILLED":"FAILED",labels:{success:e("statusProcessed"),error:e("statusError"),pending:e("statusPending"),manual:e("ordersTableManual")}})]}),a.jsx("div",{className:"grid grid-4",style:{marginBottom:24},children:m.map(e=>(0,a.jsxs)("div",{className:"stat-card",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[a.jsx("span",{style:{fontSize:28},children:e.icon}),a.jsx("span",{style:{fontSize:13,color:"var(--color-text-muted)",fontWeight:600},children:e.title.toUpperCase()})]}),a.jsx("h2",{style:{fontSize:32,margin:0,color:e.color},children:e.value}),a.jsx("p",{style:{fontSize:13,color:"var(--color-text-light)",marginTop:8},children:e.desc})]},e.title))}),(0,a.jsxs)("div",{className:"grid grid-2",style:{marginBottom:24},children:[a.jsx(h.Z,{}),a.jsx(u.Z,{})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("h3",{style:{marginTop:0,marginBottom:20},children:["⚡ ",e("quickActions")]}),(0,a.jsxs)("div",{className:"grid grid-4",children:[a.jsx(d(),{className:"btn",href:"/analytics",children:"\uD83D\uDCC8 Analytics"}),a.jsx(d(),{className:"btn",href:"/inventory",children:"\uD83D\uDCE6 Inventory"}),a.jsx(d(),{className:"btn",href:"/crm",children:"\uD83D\uDC65 CRM"}),a.jsx(d(),{className:"btn",href:"/notifications",children:"\uD83D\uDD14 Notifications"}),a.jsx(d(),{className:"btn btn-ghost",href:"/settings",children:e("ctaConfigure")}),a.jsx(d(),{className:"btn btn-ghost",href:"/orders",children:e("navOrders")}),a.jsx(d(),{className:"btn btn-ghost",href:"/errors",children:e("navErrors")}),a.jsx(d(),{className:"btn btn-ghost",href:"/ops",children:e("opsCenter")})]})]})]})]})}async function f({locale:e}){return{props:{...await (0,n.serverSideTranslations)(e,["common"])}}}r()}catch(e){r(e)}})},1377:e=>{e.exports=require("next-i18next")},5460:e=>{e.exports=require("next-i18next/serverSideTranslations")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9648:e=>{e.exports=import("axios")},5941:e=>{e.exports=import("swr")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[332,839,552,754,52],()=>s(667));module.exports=r})();