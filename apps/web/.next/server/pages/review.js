"use strict";(()=>{var e={};e.id=411,e.ids=[411,660],e.modules={8136:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{config:()=>S,default:()=>p,getServerSideProps:()=>g,getStaticPaths:()=>x,getStaticProps:()=>h,reportWebVitals:()=>m,routeModule:()=>w,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>f,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>v});var a=t(8877),i=t(4591),n=t(6021),l=t(552),o=t.n(l),d=t(5270),c=t(2669),u=e([c]);c=(u.then?(await u)():u)[0];let p=(0,n.l)(c,"default"),h=(0,n.l)(c,"getStaticProps"),x=(0,n.l)(c,"getStaticPaths"),g=(0,n.l)(c,"getServerSideProps"),S=(0,n.l)(c,"config"),m=(0,n.l)(c,"reportWebVitals"),v=(0,n.l)(c,"unstable_getStaticProps"),b=(0,n.l)(c,"unstable_getStaticPaths"),j=(0,n.l)(c,"unstable_getStaticParams"),P=(0,n.l)(c,"unstable_getServerProps"),f=(0,n.l)(c,"unstable_getServerSideProps"),w=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/review",pathname:"/review",bundlePath:"",filename:""},components:{App:d.default,Document:o()},userland:c});s()}catch(e){s(e)}})},2669:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{default:()=>h,getStaticProps:()=>x});var a=t(997),i=t(5941),n=t(9648),l=t(5460),o=t(1377),d=t(2684),c=t(6689),u=t(1522),p=e([i,n,u]);[i,n,u]=p.then?(await p)():p;let g=e=>n.default.get(e,{headers:{Authorization:"Bearer "}}).then(e=>e.data);function h(){let{t:e}=(0,o.useTranslation)("common"),{data:r,error:t}=(0,i.default)("/api/orders/errors",g,{revalidateOnFocus:!1}),[s,n]=(0,c.useState)(""),[l,p]=(0,c.useState)(null),h=async r=>{n(""),p(r);try{await u.Z.post(`/api/orders/retry/${r}`),n(e("retrySuccess"))}catch(r){n(r?.response?.data?.error??e("actionRetryError"))}finally{p(null)}},x=r?.filter(e=>e.reason?.toLowerCase().includes("manual review")||e.reason?.toLowerCase().includes("review"))??[];return(0,a.jsxs)("div",{className:"container",children:[a.jsx(d.Z,{activeHref:"/review"}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("h1",{children:e("reviewQueueTitle")}),a.jsx("p",{style:{color:"#475569"},children:e("reviewDesc")}),s&&a.jsx("p",{children:s}),t&&a.jsx("p",{style:{color:"#ef4444"},children:e("genericError")}),0===x.length&&a.jsx("p",{children:e("noManualReview")}),x.length>0&&(0,a.jsxs)("table",{className:"table",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:e("orders")}),a.jsx("th",{children:e("reason")}),a.jsx("th",{children:e("ordersTableAction")})]})}),a.jsx("tbody",{children:x.map(r=>(0,a.jsxs)("tr",{children:[a.jsx("td",{children:r.shopeeOrderId??"-"}),a.jsx("td",{children:r.reason}),a.jsx("td",{children:a.jsx("button",{className:"btn btn-ghost",onClick:()=>h(r.shopeeOrderId),disabled:l===r.shopeeOrderId,children:l===r.shopeeOrderId?e("loading"):e("retry")})})]},r.id))})]})]})]})}async function x({locale:e}){return{props:{...await (0,l.serverSideTranslations)(e,["common"])}}}s()}catch(e){s(e)}})},1377:e=>{e.exports=require("next-i18next")},5460:e=>{e.exports=require("next-i18next/serverSideTranslations")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9648:e=>{e.exports=import("axios")},5941:e=>{e.exports=import("swr")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[332,839,552,754,52],()=>t(8136));module.exports=s})();