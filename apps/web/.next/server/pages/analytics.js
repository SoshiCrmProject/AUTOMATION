"use strict";(()=>{var e={};e.id=583,e.ids=[583,660],e.modules={4511:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>g,default:()=>x,getServerSideProps:()=>u,getStaticPaths:()=>m,getStaticProps:()=>p,reportWebVitals:()=>j,routeModule:()=>D,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>v});var a=s(8877),i=s(4591),l=s(6021),n=s(552),o=s.n(n),c=s(5270),d=s(4187),h=e([d]);d=(h.then?(await h)():h)[0];let x=(0,l.l)(d,"default"),p=(0,l.l)(d,"getStaticProps"),m=(0,l.l)(d,"getStaticPaths"),u=(0,l.l)(d,"getServerSideProps"),g=(0,l.l)(d,"config"),j=(0,l.l)(d,"reportWebVitals"),v=(0,l.l)(d,"unstable_getStaticProps"),y=(0,l.l)(d,"unstable_getStaticPaths"),f=(0,l.l)(d,"unstable_getStaticParams"),S=(0,l.l)(d,"unstable_getServerProps"),b=(0,l.l)(d,"unstable_getServerSideProps"),D=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/analytics",pathname:"/analytics",bundlePath:"",filename:""},components:{App:c.default,Document:o()},userland:d});r()}catch(e){r(e)}})},4187:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>x,getStaticProps:()=>p});var a=s(997),i=s(6689),l=s(5941),n=s(5460),o=s(1377),c=s(1522),d=s(2684),h=e([l,c]);[l,c]=h.then?(await h)():h;let m=e=>c.Z.get(e).then(e=>e.data);function x(){let{t:e}=(0,o.useTranslation)("common"),[t,s]=(0,i.useState)(""),[r,n]=(0,i.useState)(30),{data:c}=(0,l.default)(t?`/api/analytics/daily?shopId=${t}&days=${r}`:null,m),{data:h}=(0,l.default)(t?`/api/analytics/dashboard?shopId=${t}`:null,m),{data:x}=(0,l.default)(t?`/api/analytics/products/performance?shopId=${t}&limit=10`:null,m),p=c?.reduce((e,t)=>e+t.revenue,0)||0,u=c?.reduce((e,t)=>e+t.ordersCount,0)||0,g=c&&c.length>0?c.reduce((e,t)=>e+t.avgProfit,0)/c.length:0;return(0,a.jsxs)("div",{className:"shell",children:[a.jsx(d.Z,{activeHref:"/analytics"}),(0,a.jsxs)("div",{className:"container",children:[a.jsx("div",{className:"hero",style:{marginBottom:32},children:(0,a.jsxs)("div",{children:[a.jsx("h1",{style:{fontSize:36,margin:0},children:"\uD83D\uDCCA Analytics & Insights"}),a.jsx("p",{style:{color:"var(--color-text-muted)",marginTop:8},children:"Track performance, monitor trends, and optimize your dropshipping operations"})]})}),(0,a.jsxs)("div",{className:"card",style:{marginBottom:24},children:[a.jsx("h3",{style:{marginTop:0},children:"Filters"}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:16},children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Shop ID"}),a.jsx("input",{className:"input",type:"text",placeholder:"Enter Shop ID",value:t,onChange:e=>s(e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Date Range"}),(0,a.jsxs)("select",{className:"select",value:r,onChange:e=>n(Number(e.target.value)),children:[a.jsx("option",{value:7,children:"Last 7 days"}),a.jsx("option",{value:30,children:"Last 30 days"}),a.jsx("option",{value:90,children:"Last 90 days"})]})]})]})]}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-4",style:{marginBottom:24},children:[(0,a.jsxs)("div",{className:"stat-card",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[a.jsx("span",{style:{fontSize:28},children:"\uD83D\uDCB0"}),a.jsx("span",{style:{fontSize:13,color:"var(--color-text-muted)",fontWeight:600},children:"TOTAL REVENUE"})]}),(0,a.jsxs)("h2",{style:{fontSize:32,margin:0,color:"var(--color-success)"},children:["$",p.toLocaleString(void 0,{minimumFractionDigits:2})]}),(0,a.jsxs)("p",{style:{fontSize:13,color:"var(--color-text-light)",marginTop:8},children:["Last ",r," days"]})]}),(0,a.jsxs)("div",{className:"stat-card",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[a.jsx("span",{style:{fontSize:28},children:"\uD83D\uDCE6"}),a.jsx("span",{style:{fontSize:13,color:"var(--color-text-muted)",fontWeight:600},children:"TOTAL ORDERS"})]}),a.jsx("h2",{style:{fontSize:32,margin:0,color:"var(--color-primary)"},children:u.toLocaleString()}),a.jsx("p",{style:{fontSize:13,color:"var(--color-text-light)",marginTop:8},children:"Fulfilled orders"})]}),(0,a.jsxs)("div",{className:"stat-card",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[a.jsx("span",{style:{fontSize:28},children:"\uD83D\uDCC8"}),a.jsx("span",{style:{fontSize:13,color:"var(--color-text-muted)",fontWeight:600},children:"AVG MARGIN"})]}),(0,a.jsxs)("h2",{style:{fontSize:32,margin:0,color:"var(--color-secondary)"},children:[g.toFixed(2),"%"]}),a.jsx("p",{style:{fontSize:13,color:"var(--color-text-light)",marginTop:8},children:"Profit margin"})]}),(0,a.jsxs)("div",{className:"stat-card",children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[a.jsx("span",{style:{fontSize:28},children:"⚡"}),a.jsx("span",{style:{fontSize:13,color:"var(--color-text-muted)",fontWeight:600},children:"AVG ORDER VALUE"})]}),(0,a.jsxs)("h2",{style:{fontSize:32,margin:0,color:"var(--color-warning)"},children:["$",u>0?(p/u).toFixed(2):"0.00"]}),a.jsx("p",{style:{fontSize:13,color:"var(--color-text-light)",marginTop:8},children:"Per order"})]})]}),c&&c.length>0&&(0,a.jsxs)("div",{className:"card",style:{marginBottom:24},children:[a.jsx("h3",{style:{marginTop:0},children:"\uD83D\uDCC5 Daily Performance"}),a.jsx("div",{className:"table-wrapper",children:(0,a.jsxs)("table",{className:"table",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Orders"}),a.jsx("th",{children:"Revenue"}),a.jsx("th",{children:"Total Cost"}),a.jsx("th",{children:"Avg Profit"})]})}),a.jsx("tbody",{children:c.slice(0,10).map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{children:new Date(e.date).toLocaleDateString()}),a.jsx("td",{children:a.jsx("span",{className:"badge",children:e.ordersCount})}),(0,a.jsxs)("td",{style:{color:"var(--color-success)",fontWeight:600},children:["$",e.revenue.toLocaleString(void 0,{minimumFractionDigits:2})]}),(0,a.jsxs)("td",{style:{color:"var(--color-error)"},children:["$",e.totalCost.toLocaleString(void 0,{minimumFractionDigits:2})]}),a.jsx("td",{children:(0,a.jsxs)("span",{className:"pill pill-success",children:[e.avgProfit.toFixed(2),"%"]})})]},e.id))})]})})]}),x&&x.length>0&&(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{style:{marginTop:0},children:"\uD83C\uDFC6 Top Performing Products"}),a.jsx("div",{className:"table-wrapper",children:(0,a.jsxs)("table",{className:"table",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"Product"}),a.jsx("th",{children:"Sales"}),a.jsx("th",{children:"Revenue"}),a.jsx("th",{children:"Margin"})]})}),a.jsx("tbody",{children:x.map((e,t)=>(0,a.jsxs)("tr",{children:[a.jsx("td",{children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,a.jsxs)("span",{className:"badge badge-success",children:["#",t+1]}),a.jsx("span",{style:{fontWeight:500},children:e.title})]})}),a.jsx("td",{children:(0,a.jsxs)("span",{className:"pill",children:[e.salesCount," orders"]})}),(0,a.jsxs)("td",{style:{color:"var(--color-success)",fontWeight:600},children:["$",e.totalRevenue.toLocaleString(void 0,{minimumFractionDigits:2})]}),a.jsx("td",{children:(0,a.jsxs)("span",{className:"pill pill-success",children:[e.avgMargin.toFixed(2),"%"]})})]},e.productId))})]})})]})]}),!t&&(0,a.jsxs)("div",{className:"alert alert-info",children:[a.jsx("span",{style:{fontSize:20},children:"ℹ️"}),(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Get Started"}),a.jsx("p",{style:{marginTop:4},children:"Enter your Shop ID above to view analytics and insights"})]})]})]})]})}async function p({locale:e}){return{props:{...await (0,n.serverSideTranslations)(e,["common"])}}}r()}catch(e){r(e)}})},1377:e=>{e.exports=require("next-i18next")},5460:e=>{e.exports=require("next-i18next/serverSideTranslations")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9648:e=>{e.exports=import("axios")},5941:e=>{e.exports=import("swr")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[332,839,552,754,52],()=>s(4511));module.exports=r})();