"use strict";(()=>{var e={};e.id=662,e.ids=[662,660],e.modules={4806:(e,t,i)=>{i.a(e,async(e,a)=>{try{i.r(t),i.d(t,{config:()=>x,default:()=>u,getServerSideProps:()=>p,getStaticPaths:()=>g,getStaticProps:()=>m,reportWebVitals:()=>v,routeModule:()=>D,unstable_getServerProps:()=>f,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>S,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>j});var r=i(8877),s=i(4591),n=i(6021),l=i(552),o=i.n(l),c=i(5270),d=i(8106),h=e([d]);d=(h.then?(await h)():h)[0];let u=(0,n.l)(d,"default"),m=(0,n.l)(d,"getStaticProps"),g=(0,n.l)(d,"getStaticPaths"),p=(0,n.l)(d,"getServerSideProps"),x=(0,n.l)(d,"config"),v=(0,n.l)(d,"reportWebVitals"),j=(0,n.l)(d,"unstable_getStaticProps"),y=(0,n.l)(d,"unstable_getStaticPaths"),S=(0,n.l)(d,"unstable_getStaticParams"),f=(0,n.l)(d,"unstable_getServerProps"),b=(0,n.l)(d,"unstable_getServerSideProps"),D=new r.PagesRouteModule({definition:{kind:s.x.PAGES,page:"/settings",pathname:"/settings",bundlePath:"",filename:""},components:{App:c.default,Document:o()},userland:d});a()}catch(e){a(e)}})},8106:(e,t,i)=>{i.a(e,async(e,a)=>{try{i.r(t),i.d(t,{default:()=>x,getStaticProps:()=>v});var r=i(997),s=i(6689),n=i(5460),l=i(1377),o=i(5941),c=i(2684),d=i(3688),h=i(1935),u=i(3877),m=i(7029),g=i(1522),p=e([o,g]);[o,g]=p.then?(await p)():p;let j=e=>g.Z.get(e).then(e=>e.data);function x(){let{t:e}=(0,l.useTranslation)("common"),[t,i]=(0,s.useState)("general"),[a,n]=(0,s.useState)(!1),[p,x]=(0,s.useState)(!1),[v,y]=(0,s.useState)(!1),[S,f]=(0,s.useState)(!1),[b,D]=(0,s.useState)(0),[C,P]=(0,s.useState)(7),[I,k]=(0,s.useState)(0),[w,B]=(0,s.useState)(0),[A,z]=(0,s.useState)(!1),[E,T]=(0,s.useState)(!1),[W,M]=(0,s.useState)(""),[N,Z]=(0,s.useState)(""),[_,q]=(0,s.useState)(""),[R,L]=(0,s.useState)(""),[F,G]=(0,s.useState)(""),[U,K]=(0,s.useState)("Shopee Warehouse"),[$,O]=(0,s.useState)(""),{data:Q,mutate:V}=(0,o.default)("/settings",j);(0,s.useEffect)(()=>{Q&&(y(Q.includeAmazonPoints),f(Q.includeDomesticShipping),D(Q.domesticShippingCost),P(Q.maxShippingDays),k(Q.minExpectedProfit),B(Q.reviewBandPercent),z(Q.isActive),T(Q.isDryRun))},[Q]);let H=async()=>{x(!0);try{await g.Z.post("/settings",{includeAmazonPoints:v,includeDomesticShipping:S,domesticShippingCost:b,maxShippingDays:C,minExpectedProfit:I,reviewBandPercent:w,isActive:A,isDryRun:E}),(0,m.M)("Settings saved successfully","success"),V()}catch(e){(0,m.M)(e.response?.data?.error||"Failed to save settings","error")}finally{x(!1)}},X=async()=>{if(!$.trim()){(0,m.M)("Please enter a webhook URL","error");return}x(!0);try{await g.Z.post($,{text:"\uD83E\uDDEA Test notification from Shopee→Amazon Automation"}),(0,m.M)("Webhook test sent successfully","success")}catch(e){(0,m.M)("Webhook test failed","error")}finally{x(!1)}};return(0,r.jsxs)("div",{className:"shell",children:[r.jsx(c.Z,{activeHref:"/settings"}),(0,r.jsxs)("div",{className:"container",children:[r.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"48px 32px",borderRadius:"var(--radius-xl)",marginBottom:32,boxShadow:"var(--shadow-lg)"},children:(0,r.jsxs)("div",{children:[r.jsx("h1",{style:{fontSize:36,margin:0,color:"#fff"},children:"⚙️ Settings & Configuration"}),r.jsx("p",{style:{color:"rgba(255,255,255,0.9)",marginTop:8,fontSize:16},children:"Configure automation rules, platform credentials, and system preferences"})]})}),Q&&(0,r.jsxs)("div",{className:"grid grid-3",style:{marginBottom:24},children:[r.jsx("div",{style:{textAlign:"center",padding:24},children:(0,r.jsxs)(u.Zb,{children:[r.jsx("div",{style:{fontSize:32,marginBottom:8},children:A?"✅":"⏸️"}),r.jsx("div",{style:{fontSize:14,color:"var(--color-text-muted)",marginBottom:4},children:"Automation Status"}),r.jsx(u.Ct,{variant:A?"success":"warning",children:A?"Active":"Inactive"})]})}),r.jsx("div",{style:{textAlign:"center",padding:24},children:(0,r.jsxs)(u.Zb,{children:[r.jsx("div",{style:{fontSize:32,marginBottom:8},children:E?"\uD83E\uDDEA":"\uD83D\uDE80"}),r.jsx("div",{style:{fontSize:14,color:"var(--color-text-muted)",marginBottom:4},children:"Execution Mode"}),r.jsx(u.Ct,{variant:E?"info":"success",children:E?"Dry Run":"Live"})]})}),r.jsx("div",{style:{textAlign:"center",padding:24},children:(0,r.jsxs)(u.Zb,{children:[r.jsx("div",{style:{fontSize:32,marginBottom:8},children:"\uD83D\uDCB0"}),r.jsx("div",{style:{fontSize:14,color:"var(--color-text-muted)",marginBottom:4},children:"Min Expected Profit"}),(0,r.jsxs)("div",{style:{fontSize:20,fontWeight:700,color:"var(--color-success)"},children:["$",I.toFixed(2)]})]})})]}),r.jsx("div",{style:{marginBottom:24},children:(0,r.jsxs)(u.bZ,{variant:"info",children:[r.jsx("strong",{children:"Setup Instructions"}),(0,r.jsxs)("ol",{style:{marginTop:8,marginBottom:0,paddingLeft:20},children:[r.jsx("li",{children:"Configure Shopee API credentials (Partner ID, Partner Key, Shop ID)"}),r.jsx("li",{children:"Set up Amazon seller credentials (email & password for automation)"}),r.jsx("li",{children:"Define automation rules (shipping days, profit margins, pricing)"}),r.jsx("li",{children:"Test webhook notifications (Slack/Discord integration)"}),r.jsx("li",{children:"Enable automation when ready (toggle Active status)"})]})]})}),(0,r.jsxs)(u.Zb,{children:[r.jsx(u.mQ,{defaultTab:t,onChange:i,tabs:[{id:"general",label:"General",icon:"⚙️",content:r.jsx(r.Fragment,{})},{id:"shopee",label:"Shopee",icon:"\uD83D\uDECD️",content:r.jsx(r.Fragment,{})},{id:"amazon",label:"Amazon",icon:"\uD83D\uDCE6",content:r.jsx(r.Fragment,{})},{id:"notifications",label:"Notifications",icon:"\uD83D\uDD14",content:r.jsx(r.Fragment,{})}]}),"general"===t&&(0,r.jsxs)("div",{style:{marginTop:24},children:[r.jsx("h3",{style:{marginTop:0,marginBottom:16},children:"Automation Rules"}),(0,r.jsxs)("div",{className:"grid grid-2",style:{gap:16,marginBottom:24},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"Max Shipping Days"}),r.jsx(u.II,{type:"number",value:C,onChange:e=>P(Number(e.target.value)),hint:"Maximum delivery time from Amazon"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"Min Expected Profit ($)"}),r.jsx(u.II,{type:"number",value:I,onChange:e=>k(Number(e.target.value)),hint:"Minimum profit margin per order"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"Domestic Shipping Cost ($)"}),r.jsx(u.II,{type:"number",value:b,onChange:e=>D(Number(e.target.value)),hint:"Cost for domestic shipping"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"label",children:"Review Band Percent (%)"}),r.jsx(u.II,{type:"number",value:w,onChange:e=>B(Number(e.target.value)),hint:"Percentage band for manual review"})]})]}),r.jsx("h3",{style:{marginBottom:16},children:"Options"}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:12,marginBottom:24},children:[(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:12,cursor:"pointer"},children:[r.jsx("input",{type:"checkbox",checked:v,onChange:e=>y(e.target.checked),style:{width:18,height:18}}),r.jsx("span",{children:"Include Amazon Points in calculations"})]}),(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:12,cursor:"pointer"},children:[r.jsx("input",{type:"checkbox",checked:S,onChange:e=>f(e.target.checked),style:{width:18,height:18}}),r.jsx("span",{children:"Include Domestic Shipping costs"})]})]}),r.jsx("h3",{style:{marginBottom:16},children:"Execution Mode"}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:12,marginBottom:24},children:[(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:12,cursor:"pointer"},children:[r.jsx("input",{type:"checkbox",checked:A,onChange:e=>z(e.target.checked),style:{width:18,height:18}}),r.jsx("span",{style:{fontWeight:600},children:"Enable Automation"})]}),(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:12,cursor:"pointer"},children:[r.jsx("input",{type:"checkbox",checked:E,onChange:e=>T(e.target.checked),style:{width:18,height:18}}),r.jsx("span",{children:"Dry Run Mode (test without actual orders)"})]})]}),r.jsx(u.zx,{onClick:H,variant:"primary",fullWidth:!0,disabled:p,children:"\uD83D\uDCBE Save General Settings"})]}),"shopee"===t&&(0,r.jsxs)("div",{style:{marginTop:24},children:[r.jsx("h3",{style:{marginTop:0,marginBottom:16},children:"Shopee API Credentials"}),r.jsx("div",{style:{marginBottom:24},children:r.jsx(u.bZ,{variant:"warning",children:"Get your Shopee Partner credentials from the Shopee Open Platform"})}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16,marginBottom:24},children:[r.jsx(u.II,{label:"Partner ID",value:W,onChange:e=>M(e.target.value),placeholder:"Enter Shopee Partner ID"}),r.jsx(u.II,{label:"Partner Key",type:"password",value:N,onChange:e=>Z(e.target.value),placeholder:"Enter Shopee Partner Key"}),r.jsx(u.II,{label:"Shop ID",value:_,onChange:e=>q(e.target.value),placeholder:"Enter Shop ID"})]}),r.jsx(u.zx,{variant:"primary",fullWidth:!0,disabled:p,children:"\uD83D\uDD11 Save Shopee Credentials"})]}),"amazon"===t&&(0,r.jsxs)("div",{style:{marginTop:24},children:[r.jsx("h3",{style:{marginTop:0,marginBottom:16},children:"Amazon Seller Credentials"}),r.jsx("div",{style:{marginBottom:24},children:r.jsx(u.bZ,{variant:"warning",children:"These credentials are used for automated browser login to Amazon Seller Central"})}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16,marginBottom:24},children:[r.jsx(u.II,{label:"Amazon Email",type:"email",value:R,onChange:e=>L(e.target.value),placeholder:"your-email@example.com"}),r.jsx(u.II,{label:"Amazon Password",type:"password",value:F,onChange:e=>G(e.target.value),placeholder:"••••••••"}),r.jsx(u.II,{label:"Shipping Label",value:U,onChange:e=>K(e.target.value),placeholder:"Shopee Warehouse",hint:"Default shipping label for orders"})]}),r.jsx(u.zx,{variant:"primary",fullWidth:!0,disabled:p,children:"\uD83D\uDD11 Save Amazon Credentials"})]}),"notifications"===t&&(0,r.jsxs)("div",{style:{marginTop:24},children:[r.jsx("h3",{style:{marginTop:0,marginBottom:16},children:"Alert Webhook"}),r.jsx("div",{style:{marginBottom:24},children:r.jsx(u.bZ,{variant:"info",children:"Configure Slack or Discord webhook URL to receive real-time alerts"})}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16,marginBottom:24},children:r.jsx(u.II,{label:"Webhook URL",value:$,onChange:e=>O(e.target.value),placeholder:"https://hooks.slack.com/services/...",hint:"Slack or Discord webhook URL"})}),(0,r.jsxs)("div",{style:{display:"flex",gap:12},children:[r.jsx(u.zx,{onClick:X,variant:"ghost",fullWidth:!0,disabled:p,children:"\uD83E\uDDEA Test Webhook"}),r.jsx(u.zx,{variant:"primary",fullWidth:!0,disabled:p,children:"\uD83D\uDCBE Save Webhook"})]})]})]}),r.jsx(m.Z,{}),r.jsx(d.Z,{pageName:"settings",steps:h.Qu,onComplete:()=>n(!1)}),!a&&r.jsx(d.M,{onClick:()=>{localStorage.removeItem("tour_completed_settings"),n(!0),window.location.reload()}})]})]})}async function v({locale:e}){return{props:{...await (0,n.serverSideTranslations)(e,["common"])}}}a()}catch(e){a(e)}})},1377:e=>{e.exports=require("next-i18next")},5460:e=>{e.exports=require("next-i18next/serverSideTranslations")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9648:e=>{e.exports=import("axios")},5941:e=>{e.exports=import("swr")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),a=t.X(0,[332,839,552,754,52,877,438],()=>i(4806));module.exports=a})();