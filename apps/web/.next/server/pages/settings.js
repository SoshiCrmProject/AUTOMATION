"use strict";(()=>{var e={};e.id=662,e.ids=[662,660],e.modules={4806:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>x,default:()=>h,getServerSideProps:()=>g,getStaticPaths:()=>m,getStaticProps:()=>u,reportWebVitals:()=>y,routeModule:()=>D,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>f});var s=a(8877),n=a(4591),o=a(6021),i=a(552),l=a.n(i),d=a(5270),c=a(8106),p=e([c]);c=(p.then?(await p)():p)[0];let h=(0,o.l)(c,"default"),u=(0,o.l)(c,"getStaticProps"),m=(0,o.l)(c,"getStaticPaths"),g=(0,o.l)(c,"getServerSideProps"),x=(0,o.l)(c,"config"),y=(0,o.l)(c,"reportWebVitals"),f=(0,o.l)(c,"unstable_getStaticProps"),j=(0,o.l)(c,"unstable_getStaticPaths"),v=(0,o.l)(c,"unstable_getStaticParams"),S=(0,o.l)(c,"unstable_getServerProps"),b=(0,o.l)(c,"unstable_getServerSideProps"),D=new s.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/settings",pathname:"/settings",bundlePath:"",filename:""},components:{App:d.default,Document:l()},userland:c});r()}catch(e){r(e)}})},5120:(e,t,a)=>{a.d(t,{Z:()=>p});var r=a(997),s=a(9816),n=a.n(s),o=a(6689),i=a(5632),l=a(6224);let d=[{number:1,title:{en:"Register on Shopee Open Platform",ja:"Shopee Open Platformに登録"},description:{en:"Create your developer account to access the API",ja:"APIにアクセスするための開発者アカウントを作成"},details:{en:["Go to https://open.shopee.com/","Click 'Sign Up' in the top right corner","Use your Shopee seller account email","Verify your email address","Complete the registration form"],ja:["https://open.shopee.com/ にアクセス","右上の「サインアップ」をクリック","Shopeeセラーアカウントのメールアドレスを使用","メールアドレスを確認","登録フォームを完成"]},link:{text:{en:"Visit Shopee Open Platform",ja:"Shopee Open Platformにアクセス"},url:"https://open.shopee.com/"}},{number:2,title:{en:"Create a New App",ja:"新しいアプリを作成"},description:{en:"Set up your application to get API credentials",ja:"API認証情報を取得するためにアプリケーションを設定"},details:{en:["Log in to Shopee Open Platform","Go to 'My Apps' section","Click 'Create App' button","Enter your app name (e.g., 'AutoShip X Integration')","Select 'Order Management' permissions","Submit and wait for approval (usually instant)"],ja:["Shopee Open Platformにログイン","「マイアプリ」セクションに移動","「アプリを作成」ボタンをクリック","アプリ名を入力（例：「AutoShip X Integration」）","「注文管理」権限を選択","送信して承認を待つ（通常は即時）"]}},{number:3,title:{en:"Get Partner ID & Partner Key",ja:"Partner IDとPartner Keyを取得"},description:{en:"Copy these credentials from your app settings",ja:"アプリ設定からこれらの認証情報をコピー"},details:{en:["Open your newly created app","Find 'App Credentials' section","Copy the Partner ID (numeric, e.g., 1234567)","Click 'Show' on Partner Key and copy it","⚠️ Keep Partner Key secret - never share it!","Store both values securely"],ja:["新しく作成したアプリを開く","「アプリ認証情報」セクションを見つける","Partner ID（数字、例：1234567）をコピー","Partner Keyの「表示」をクリックしてコピー","⚠️ Partner Keyは秘密に保つ - 決して共有しない！","両方の値を安全に保存"]}},{number:4,title:{en:"Get Shop ID",ja:"Shop IDを取得"},description:{en:"Find your shop's unique identifier",ja:"ショップの一意の識別子を見つける"},details:{en:["Go to Shopee Seller Center","Click on 'Settings' or 'Shop Settings'","Look for 'Shop ID' (usually in URL or shop info)","Alternative: Use Shopee API test endpoint to get shop list","Copy the numeric Shop ID (e.g., 987654)","Each shop has a unique ID"],ja:["Shopeeセラーセンターに移動","「設定」または「ショップ設定」をクリック","「Shop ID」を探す（通常はURLまたはショップ情報内）","代替方法：Shopee APIテストエンドポイントでショップリストを取得","数値のShop ID（例：987654）をコピー","各ショップには一意のIDがあります"]}},{number:5,title:{en:"OAuth Authorization (Optional)",ja:"OAuth認証（オプション）"},description:{en:"Get Access Token for advanced features",ja:"高度な機能のためのアクセストークンを取得"},details:{en:["Generate authorization URL with your Partner ID","Authorize the app in Shopee as the shop owner","Receive authorization code","Exchange code for Access Token via API","Access Token expires - set up refresh flow","Note: Some features work without Access Token"],ja:["Partner IDで認証URLを生成","ショップオーナーとしてShopeeでアプリを認証","認証コードを受信","API経由でコードをアクセストークンと交換","アクセストークンは期限切れ - 更新フローを設定","注：一部の機能はアクセストークンなしで動作"]}},{number:6,title:{en:"Enter Credentials in Settings",ja:"設定に認証情報を入力"},description:{en:"Save your credentials in AutoShip X",ja:"AutoShip Xに認証情報を保存"},details:{en:["Go to Settings page in AutoShip X","Select 'Shopee' tab","Enter Partner ID (numeric only)","Enter Partner Key (copy/paste carefully)","Enter Shop ID (numeric only)","Click 'Save Shopee Credentials (Encrypted)'","Test connection using the 'Test Connection' button"],ja:["AutoShip Xの設定ページに移動","「Shopee」タブを選択","Partner ID（数字のみ）を入力","Partner Key（慎重にコピー/貼り付け）を入力","Shop ID（数字のみ）を入力","「Shopee認証情報を保存（暗号化）」をクリック","「接続をテスト」ボタンを使用して接続をテスト"]}}],c=[{number:1,title:{en:"Prepare Your Amazon Seller Account",ja:"Amazonセラーアカウントを準備"},description:{en:"Ensure your account is active and accessible",ja:"アカウントがアクティブでアクセス可能であることを確認"},details:{en:["Have an active Amazon Seller Central account","Know your login email/phone number","Know your account password","Disable 2FA temporarily (or use app-based 2FA)","Ensure you have a payment method saved","Add a default shipping address"],ja:["アクティブなAmazonセラーセントラルアカウントを持つ","ログインメール/電話番号を知っている","アカウントパスワードを知っている","2FAを一時的に無効にする（またはアプリベースの2FAを使用）","支払い方法が保存されていることを確認","デフォルトの配送先住所を追加"]}},{number:2,title:{en:"Set Up Default Shipping Address",ja:"デフォルトの配送先住所を設定"},description:{en:"Configure where orders will be shipped",ja:"注文の配送先を設定"},details:{en:["Log in to Amazon Seller Central or Amazon.com","Go to 'Your Addresses'","Add or select your dropship warehouse address","Make it the default shipping address","Verify the address is complete and correct","Save changes"],ja:["AmazonセラーセントラルまたはAmazon.comにログイン","「お届け先住所」に移動","ドロップシップ倉庫の住所を追加または選択","デフォルトの配送先住所にする","住所が完全で正確であることを確認","変更を保存"]}},{number:3,title:{en:"Save Payment Method",ja:"支払い方法を保存"},description:{en:"Ensure automatic checkout works smoothly",ja:"自動チェックアウトがスムーズに機能することを確認"},details:{en:["Go to 'Payment Options' in Amazon","Add a valid credit/debit card","Or link your bank account","Make it the default payment method","Verify the payment method is active","Ensure sufficient credit/balance"],ja:["Amazonの「お支払い方法」に移動","有効なクレジット/デビットカードを追加","または銀行口座をリンク","デフォルトの支払い方法にする","支払い方法がアクティブであることを確認","十分な与信/残高があることを確認"]}},{number:4,title:{en:"Enter Credentials in AutoShip X",ja:"AutoShip Xに認証情報を入力"},description:{en:"Securely store your Amazon login",ja:"Amazonログインを安全に保存"},details:{en:["Go to Settings page in AutoShip X","Select 'Amazon' tab","Enter your Amazon email or phone number","Enter your Amazon password","⚠️ Credentials are encrypted with AES-256-GCM","We NEVER share credentials with third parties","Click 'Save Amazon Credentials'"],ja:["AutoShip Xの設定ページに移動","「Amazon」タブを選択","Amazonのメールまたは電話番号を入力","Amazonのパスワードを入力","⚠️ 認証情報はAES-256-GCMで暗号化されます","第三者と認証情報を共有することは決してありません","「Amazon認証情報を保存」をクリック"]}},{number:5,title:{en:"How Automation Works",ja:"自動化の仕組み"},description:{en:"Understanding the Playwright automation",ja:"Playwright自動化を理解する"},details:{en:["We use Playwright (headless browser)","System logs in with your credentials","Searches for the mapped Amazon product","Adds item to cart automatically","Proceeds to checkout","Completes purchase with saved payment/address","No Amazon API used - pure browser automation"],ja:["Playwright（ヘッドレスブラウザ）を使用","システムが認証情報でログイン","マッピングされたAmazon商品を検索","自動的にカートに追加","チェックアウトに進む","保存された支払い/住所で購入を完了","Amazon APIは使用しません - 純粋なブラウザ自動化"]}},{number:6,title:{en:"Security & Best Practices",ja:"セキュリティとベストプラクティス"},description:{en:"Keep your account safe",ja:"アカウントを安全に保つ"},details:{en:["Enable app-based 2FA (Google Authenticator)","Monitor Amazon purchase notifications","Check Dashboard and Orders page regularly","Use dry-run mode to test before going live","Set profit thresholds to avoid losses","Review manual review queue daily","Report any suspicious activity immediately"],ja:["アプリベースの2FAを有効にする（Google Authenticator）","Amazonの購入通知を監視","ダッシュボードと注文ページを定期的に確認","本番運用前にドライランモードでテスト","損失を避けるために利益しきい値を設定","手動レビューキューを毎日確認","不審なアクティビティを即座に報告"]}}];function p({platform:e}){let t=(0,i.useRouter)().locale||"en",[a,s]=(0,o.useState)(null),[p,h]=(0,o.useState)(!1),u="shopee"===e?d:c,m=e=>e[t];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>h(!0),style:{marginTop:12,width:"100%",padding:"12px 16px",background:"var(--color-info-bg)",color:"var(--color-info)",border:"2px solid var(--color-info)",borderRadius:"var(--radius-md)",fontSize:14,fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:8},className:"jsx-51030a99c5334d58",children:["\uD83D\uDCD6 ","ja"===t?`${"shopee"===e?"Shopee":"Amazon"}認証情報の取得方法（ステップバイステップガイド）`:`How to Get ${"shopee"===e?"Shopee":"Amazon"} Credentials (Step-by-Step Guide)`]}),p&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)",zIndex:9998,animation:"fadeIn 0.3s ease"},onClick:()=>h(!1),className:"jsx-51030a99c5334d58"}),(0,r.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-xl)",maxWidth:800,width:"90%",maxHeight:"90vh",overflow:"hidden",zIndex:9999,animation:"slideUp 0.3s ease",display:"flex",flexDirection:"column"},className:"jsx-51030a99c5334d58",children:[r.jsx("div",{style:{padding:24,borderBottom:"2px solid var(--color-border)",background:"linear-gradient(135deg, var(--color-primary), var(--color-secondary))",color:"white"},className:"jsx-51030a99c5334d58",children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12},className:"jsx-51030a99c5334d58",children:[(0,r.jsxs)("div",{style:{flex:1},className:"jsx-51030a99c5334d58",children:[(0,r.jsxs)("h2",{style:{margin:0,fontSize:24,fontWeight:800},className:"jsx-51030a99c5334d58",children:["shopee"===e?"\uD83D\uDECD️ Shopee":"\uD83D\uDCE6 Amazon"," ","ja"===t?"認証情報設定ガイド":"Credential Setup Guide"]}),r.jsx("p",{style:{margin:"8px 0 0 0",fontSize:14,opacity:.9},className:"jsx-51030a99c5334d58",children:"ja"===t?`これらの${u.length}つの簡単なステップに従って認証情報を取得してください`:`Follow these ${u.length} simple steps to get your credentials`})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},className:"jsx-51030a99c5334d58",children:[r.jsx(l.Z,{}),r.jsx("button",{onClick:()=>h(!1),style:{background:"rgba(255, 255, 255, 0.2)",border:"2px solid white",borderRadius:"var(--radius-full)",width:40,height:40,fontSize:24,cursor:"pointer",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700},"aria-label":"Close",className:"jsx-51030a99c5334d58",children:"\xd7"})]})]})}),r.jsx("div",{style:{flex:1,overflowY:"auto",padding:24},className:"jsx-51030a99c5334d58",children:u.map(e=>{let n=a===e.number;return(0,r.jsxs)("div",{style:{marginBottom:16,border:"2px solid var(--color-border)",borderRadius:"var(--radius-lg)",overflow:"hidden",transition:"all 0.3s ease"},className:"jsx-51030a99c5334d58",children:[(0,r.jsxs)("div",{onClick:()=>s(n?null:e.number),style:{padding:16,background:n?"var(--color-primary)":"var(--color-elevated)",color:n?"white":"var(--color-text)",cursor:"pointer",display:"flex",alignItems:"center",gap:16,transition:"all 0.2s ease"},className:"jsx-51030a99c5334d58",children:[r.jsx("div",{style:{width:40,height:40,borderRadius:"var(--radius-full)",background:n?"white":"var(--color-primary)",color:n?"var(--color-primary)":"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:18,fontWeight:800,flexShrink:0},className:"jsx-51030a99c5334d58",children:e.number}),(0,r.jsxs)("div",{style:{flex:1},className:"jsx-51030a99c5334d58",children:[r.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700},className:"jsx-51030a99c5334d58",children:m(e.title)}),r.jsx("p",{style:{margin:"4px 0 0 0",fontSize:13,opacity:n?.9:.6},className:"jsx-51030a99c5334d58",children:m(e.description)})]}),r.jsx("div",{style:{fontSize:20,transform:n?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease"},className:"jsx-51030a99c5334d58",children:"▼"})]}),n&&(0,r.jsxs)("div",{style:{padding:20,background:"white",animation:"fadeIn 0.3s ease"},className:"jsx-51030a99c5334d58",children:[r.jsx("ol",{style:{margin:0,paddingLeft:20,lineHeight:2,fontSize:14},className:"jsx-51030a99c5334d58",children:e.details[t].map((e,t)=>r.jsx("li",{style:{marginBottom:8,color:e.startsWith("⚠️")?"var(--color-warning)":"var(--color-text)"},className:"jsx-51030a99c5334d58",children:e},t))}),e.link&&r.jsx("div",{style:{marginTop:16},className:"jsx-51030a99c5334d58",children:(0,r.jsxs)("a",{href:e.link.url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:8,padding:"10px 16px",background:"var(--color-primary)",color:"white",borderRadius:"var(--radius-md)",fontSize:13,fontWeight:600,textDecoration:"none",transition:"all 0.2s ease"},className:"jsx-51030a99c5334d58",children:["�� ",m(e.link.text)," →"]})})]})]},e.number)})}),(0,r.jsxs)("div",{style:{padding:20,borderTop:"2px solid var(--color-border)",background:"var(--color-elevated)",display:"flex",justifyContent:"space-between",alignItems:"center",gap:16,flexWrap:"wrap"},className:"jsx-51030a99c5334d58",children:[(0,r.jsxs)("div",{style:{fontSize:13,color:"var(--color-text-muted)"},className:"jsx-51030a99c5334d58",children:["\uD83D\uDCA1 ",r.jsx("strong",{className:"jsx-51030a99c5334d58",children:"ja"===t?"ヘルプが必要ですか？":"Need help?"})," ","ja"===t?"チェック ":"Check ",r.jsx("a",{href:"/SHOPEE_CREDENTIALS_GUIDE.md",target:"_blank",style:{color:"var(--color-primary)",fontWeight:600},className:"jsx-51030a99c5334d58",children:"ja"===t?"ドキュメント":"documentation"})]}),r.jsx("button",{onClick:()=>h(!1),style:{minWidth:120},className:"jsx-51030a99c5334d58 btn btn-ghost",children:"ja"===t?"ガイドを閉じる":"Close Guide"})]})]})]}),r.jsx(n(),{id:"51030a99c5334d58",children:"@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-o-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes slideUp{from{opacity:0;-webkit-transform:translate(-50%,-45%);transform:translate(-50%,-45%)}to{opacity:1;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}@-moz-keyframes slideUp{from{opacity:0;-moz-transform:translate(-50%,-45%);transform:translate(-50%,-45%)}to{opacity:1;-moz-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}@-o-keyframes slideUp{from{opacity:0;-o-transform:translate(-50%,-45%);transform:translate(-50%,-45%)}to{opacity:1;-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}@keyframes slideUp{from{opacity:0;-webkit-transform:translate(-50%,-45%);-moz-transform:translate(-50%,-45%);-o-transform:translate(-50%,-45%);transform:translate(-50%,-45%)}to{opacity:1;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}"})]})}},6224:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(997),s=a(5632),n=a(7029);function o(){let e=(0,s.useRouter)(),{pathname:t,query:a,asPath:o,locale:i}=e,l=async r=>{try{await e.push({pathname:t,query:a},o,{locale:r}),(0,n.M)("ja"===r?"言語が日本語に変更されました":"Language changed to English","success")}catch(e){console.error("Language switch error:",e)}};return(0,r.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:8,background:"rgba(255, 255, 255, 0.2)",borderRadius:"var(--radius-full)",padding:"6px 12px",fontSize:13,fontWeight:600},children:[r.jsx("button",{onClick:()=>l("en"),style:{background:"en"===i?"white":"transparent",color:"en"===i?"var(--color-primary)":"white",border:"none",borderRadius:"var(--radius-full)",padding:"4px 12px",fontSize:13,fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:4},children:"\uD83C\uDDFA\uD83C\uDDF8 EN"}),r.jsx("button",{onClick:()=>l("ja"),style:{background:"ja"===i?"white":"transparent",color:"ja"===i?"var(--color-primary)":"white",border:"none",borderRadius:"var(--radius-full)",padding:"4px 12px",fontSize:13,fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:4},children:"\uD83C\uDDEF\uD83C\uDDF5 JA"})]})}},8106:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>S,getStaticProps:()=>b});var s=a(997),n=a(6689),o=a(5460),i=a(1377),l=a(5941),d=a(6555),c=a(3688),p=a(1935),h=a(2268),u=a(2304),m=a(7715),g=a(2938),x=a(1837),y=a(7029),f=a(5120),j=a(1522),v=e([l,j]);[l,j]=v.then?(await v)():v;let D=e=>j.Z.get(e).then(e=>e.data);function S(){let{t:e}=(0,i.useTranslation)("common"),[t,a]=(0,n.useState)("general"),[r,o]=(0,n.useState)(!1),[v,S]=(0,n.useState)(!1),[b,A]=(0,n.useState)(!1),[w,C]=(0,n.useState)(!1),[k,I]=(0,n.useState)(!1),[z,P]=(0,n.useState)(0),[E,N]=(0,n.useState)(7),[B,R]=(0,n.useState)(0),[W,M]=(0,n.useState)(0),[T,G]=(0,n.useState)(!1),[F,O]=(0,n.useState)(!1),[U,Z]=(0,n.useState)(""),[L,K]=(0,n.useState)("AUTO"),[q,_]=(0,n.useState)(""),[X,H]=(0,n.useState)(""),[V,$]=(0,n.useState)(""),[Y,J]=(0,n.useState)(""),[Q,ee]=(0,n.useState)(""),[et,ea]=(0,n.useState)("Shopee Warehouse"),[er,es]=(0,n.useState)("");(0,n.useEffect)(()=>{A(!0)},[]);let{data:en,error:eo,mutate:ei}=(0,l.default)("/settings",D,{shouldRetryOnError:!1,revalidateOnFocus:!1}),{data:el}=(0,l.default)("/shops",D,{shouldRetryOnError:!1}),{data:ed}=(0,l.default)("/credentials/shopee",D,{shouldRetryOnError:!1}),{data:ec}=(0,l.default)("/credentials/amazon",D,{shouldRetryOnError:!1});(0,n.useEffect)(()=>{en&&(C(en.includeAmazonPoints),I(en.includeDomesticShipping),P(en.domesticShippingCost||0),N(en.maxShippingDays),R(en.minExpectedProfit),M(en.reviewBandPercent||0),G(en.isActive),O(en.isDryRun),en.shopIds&&en.shopIds.length>0&&Z(en.shopIds[0]))},[en]),(0,n.useEffect)(()=>{el&&el.length>0&&!U&&Z(el[0].id)},[el,U]),(0,n.useEffect)(()=>{if(ed&&ed.length>0){let e=ed[0];_(e.partnerId||""),$(e.shopId||"")}},[ed]),(0,n.useEffect)(()=>{if(ec&&ec.length>0){let e=ec[0];J(e.email||""),ea("Shopee Warehouse")}},[ec]);let ep=async()=>{if(!U){(0,y.M)("No shop selected. Please refresh the page.","error");return}S(!0);try{await j.Z.post("/settings",{shopId:U,isActive:T,isDryRun:F,autoFulfillmentMode:L,minExpectedProfit:B,maxShippingDays:E,reviewBandPercent:W,includePoints:w,includeDomesticShipping:k,defaultShippingAddressLabel:et||"Shopee Warehouse",currency:"JPY"}),(0,y.M)("Settings saved successfully","success"),ei()}catch(e){(0,y.M)(e.response?.data?.error||"Failed to save settings","error")}finally{S(!1)}},eh=async()=>{if(!U){(0,y.M)("No shop selected","error");return}if(!q||!X||!V){(0,y.M)("Please fill in all Shopee credentials","error");return}S(!0);try{await j.Z.post("/credentials/shopee",{partnerId:q,partnerKey:X,accessToken:"",baseUrl:"https://partner.shopeemobile.com",shopId:U,shopName:V,shopeeRegion:"TH"}),(0,y.M)("Shopee credentials saved successfully","success")}catch(e){(0,y.M)(e.response?.data?.error||"Failed to save Shopee credentials","error")}finally{S(!1)}},eu=async()=>{if(!U){(0,y.M)("No shop selected","error");return}if(!Y||!Q){(0,y.M)("Please fill in email and password","error");return}S(!0);try{await j.Z.post("/credentials/amazon",{shopId:U,email:Y,password:Q}),(0,y.M)("Amazon credentials saved successfully","success"),ee("")}catch(e){(0,y.M)(e.response?.data?.error||"Failed to save Amazon credentials","error")}finally{S(!1)}},em=async()=>{if(!er.trim()){(0,y.M)("Please enter a webhook URL","error");return}S(!0);try{await j.Z.post(er,{text:"\uD83E\uDDEA Test notification from Shopee→Amazon Automation"}),(0,y.M)("Webhook test sent successfully","success")}catch(e){(0,y.M)("Webhook test failed","error")}finally{S(!1)}};return(0,s.jsxs)("div",{className:"shell",children:[s.jsx(d.Z,{activeHref:"/settings"}),(0,s.jsxs)("div",{className:"container",children:[s.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"48px 32px",borderRadius:"var(--radius-xl)",marginBottom:32,boxShadow:"var(--shadow-lg)"},children:(0,s.jsxs)("div",{children:[s.jsx("h1",{style:{fontSize:36,margin:0,color:"#fff"},children:"⚙️ Settings & Configuration"}),s.jsx("p",{style:{color:"rgba(255,255,255,0.9)",marginTop:8,fontSize:16},children:"Configure automation rules, platform credentials, and system preferences"})]})}),en&&(0,s.jsxs)("div",{className:"grid grid-3",style:{marginBottom:24},children:[s.jsx(h.Zb,{children:(0,s.jsxs)("div",{style:{textAlign:"center",padding:12},children:[s.jsx("div",{style:{fontSize:32,marginBottom:8},children:T?"✅":"⏸️"}),s.jsx("div",{style:{fontSize:14,color:"var(--color-text-muted)",marginBottom:4},children:"Automation Status"}),s.jsx(x.C,{variant:T?"success":"warning",children:T?"Active":"Inactive"})]})}),s.jsx(h.Zb,{children:(0,s.jsxs)("div",{style:{textAlign:"center",padding:12},children:[s.jsx("div",{style:{fontSize:32,marginBottom:8},children:F?"\uD83E\uDDEA":"\uD83D\uDE80"}),s.jsx("div",{style:{fontSize:14,color:"var(--color-text-muted)",marginBottom:4},children:"Execution Mode"}),s.jsx(x.C,{variant:F?"info":"success",children:F?"Dry Run":"Live"})]})}),s.jsx(h.Zb,{children:(0,s.jsxs)("div",{style:{textAlign:"center",padding:12},children:[s.jsx("div",{style:{fontSize:32,marginBottom:8},children:"\uD83D\uDCB0"}),s.jsx("div",{style:{fontSize:14,color:"var(--color-text-muted)",marginBottom:4},children:"Min Expected Profit"}),(0,s.jsxs)("div",{style:{fontSize:20,fontWeight:700,color:"var(--color-success)"},children:["$",(B||0).toFixed(2)]})]})})]}),s.jsx("div",{style:{marginBottom:24},children:(0,s.jsxs)(g.bZ,{variant:"info",children:[s.jsx("strong",{children:"Setup Instructions"}),(0,s.jsxs)("ol",{style:{marginTop:8,marginBottom:0,paddingLeft:20},children:[s.jsx("li",{children:"Configure Shopee API credentials (Partner ID, Partner Key, Shop ID)"}),s.jsx("li",{children:"Set up Amazon seller credentials (email & password for automation)"}),s.jsx("li",{children:"Define automation rules (shipping days, profit margins, pricing)"}),s.jsx("li",{children:"Test webhook notifications (Slack/Discord integration)"}),s.jsx("li",{children:"Enable automation when ready (toggle Active status)"})]})]})}),(0,s.jsxs)(h.Zb,{children:[s.jsx("div",{className:"tabs-header",style:{display:"flex",gap:"8px",borderBottom:"2px solid var(--color-border)",marginBottom:"24px",overflowX:"auto"},children:[{id:"general",label:"General",icon:"⚙️"},{id:"shopee",label:"Shopee",icon:"\uD83D\uDECD️"},{id:"amazon",label:"Amazon",icon:"\uD83D\uDCE6"},{id:"notifications",label:"Notifications",icon:"\uD83D\uDD14"}].map(e=>(0,s.jsxs)("button",{onClick:()=>a(e.id),style:{background:"none",border:"none",padding:"14px 20px",fontSize:"14px",fontWeight:t===e.id?700:500,color:t===e.id?"var(--color-primary)":"var(--color-text-muted)",cursor:"pointer",position:"relative",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s ease",borderBottom:t===e.id?"2px solid var(--color-primary)":"2px solid transparent",marginBottom:"-2px",whiteSpace:"nowrap"},children:[s.jsx("span",{children:e.icon}),s.jsx("span",{children:e.label})]},e.id))}),"general"===t&&(0,s.jsxs)("div",{style:{marginTop:24},children:[s.jsx("h3",{style:{marginTop:0,marginBottom:16},children:"Automation Rules"}),(0,s.jsxs)("div",{className:"grid grid-2",style:{gap:16,marginBottom:24},children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"label",children:"Max Shipping Days"}),s.jsx(m.II,{type:"number",value:E,onChange:e=>N(Number(e.target.value)),hint:"Maximum delivery time from Amazon"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"label",children:"Min Expected Profit ($)"}),s.jsx(m.II,{type:"number",value:B,onChange:e=>R(Number(e.target.value)),hint:"Minimum profit margin per order"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"label",children:"Domestic Shipping Cost ($)"}),s.jsx(m.II,{type:"number",value:z,onChange:e=>P(Number(e.target.value)),hint:"Cost for domestic shipping"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"label",children:"Review Band Percent (%)"}),s.jsx(m.II,{type:"number",value:W,onChange:e=>M(Number(e.target.value)),hint:"Percentage band for manual review"})]})]}),s.jsx("h3",{style:{marginBottom:16},children:"Options"}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:12,marginBottom:24},children:[(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:12,cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:w,onChange:e=>C(e.target.checked),style:{width:18,height:18}}),s.jsx("span",{children:"Include Amazon Points in calculations"})]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:12,cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:k,onChange:e=>I(e.target.checked),style:{width:18,height:18}}),s.jsx("span",{children:"Include Domestic Shipping costs"})]})]}),s.jsx("h3",{style:{marginBottom:16},children:"Execution Mode"}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:12,marginBottom:24},children:[(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:12,cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:T,onChange:e=>G(e.target.checked),style:{width:18,height:18}}),s.jsx("span",{style:{fontWeight:600},children:"Enable Automation"})]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:12,cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:F,onChange:e=>O(e.target.checked),style:{width:18,height:18}}),s.jsx("span",{children:"Dry Run Mode (test without actual orders)"})]})]}),s.jsx(u.z,{onClick:ep,variant:"primary",fullWidth:!0,disabled:v,children:"\uD83D\uDCBE Save General Settings"})]}),"shopee"===t&&(0,s.jsxs)("div",{style:{marginTop:24},children:[s.jsx("h3",{style:{marginTop:0,marginBottom:16},children:"\uD83D\uDECD️ Shopee API Credentials"}),s.jsx("div",{style:{marginBottom:24},children:s.jsx(g.bZ,{variant:"info",title:"\uD83D\uDCDA How to Get Shopee Credentials",children:(0,s.jsxs)("ol",{style:{margin:"8px 0",paddingLeft:20,lineHeight:1.8},children:[(0,s.jsxs)("li",{children:["Go to ",s.jsx("strong",{children:"https://open.shopee.com/"})]}),s.jsx("li",{children:"Register and create a new app"}),s.jsx("li",{children:"Get Partner ID and Partner Key from app settings"}),s.jsx("li",{children:"Get Shop ID from your seller center"}),(0,s.jsxs)("li",{children:["See ",s.jsx("strong",{children:"SHOPEE_CREDENTIALS_GUIDE.md"})," for detailed steps"]})]})})}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16,marginBottom:24},children:[s.jsx(m.II,{label:"Partner ID \uD83D\uDD22",value:q,onChange:e=>_(e.target.value),placeholder:"Enter numeric Partner ID (e.g., 1234567)",hint:"Find this in your Shopee Open Platform app settings"}),s.jsx(m.II,{label:"Partner Key \uD83D\uDD10",type:"password",value:X,onChange:e=>H(e.target.value),placeholder:"Enter Partner Key (secret)",hint:"Keep this secret! Used for signing API requests"}),s.jsx(m.II,{label:"Shop ID \uD83C\uDFEA",value:V,onChange:e=>$(e.target.value),placeholder:"Enter numeric Shop ID (e.g., 987654)",hint:"Get from your Shopee seller center URL or API"})]}),q&&X&&V&&s.jsx("div",{style:{marginBottom:16},children:s.jsx(g.bZ,{variant:"success",title:"✅ All fields filled",children:"Ready to save. Click the button below to securely store your credentials."})}),s.jsx(u.z,{onClick:eh,variant:"primary",fullWidth:!0,disabled:v,children:"\uD83D\uDD11 Save Shopee Credentials (Encrypted)"}),s.jsx(f.Z,{platform:"shopee"}),q&&X&&V&&s.jsx("div",{style:{marginTop:16},children:s.jsx(u.z,{onClick:async()=>{try{await j.Z.post("/orders/poll-now"),(0,y.M)("✅ Test poll initiated! Check Orders page for results.","success")}catch(e){(0,y.M)("Test failed: "+(e.response?.data?.error||"Unknown error"),"error")}},variant:"ghost",fullWidth:!0,children:"\uD83E\uDDEA Test Connection"})})]}),"amazon"===t&&(0,s.jsxs)("div",{style:{marginTop:24},children:[s.jsx("h3",{style:{marginTop:0,marginBottom:16},children:"\uD83D\uDCE6 Amazon Seller Credentials"}),s.jsx("div",{style:{marginBottom:24},children:s.jsx(g.bZ,{variant:"warning",title:"\uD83D\uDD12 Security Notice",children:"These credentials are encrypted (AES-256-GCM) and used only for automated browser login. Never shared with third parties."})}),s.jsx("div",{style:{marginBottom:16},children:(0,s.jsxs)(g.bZ,{variant:"info",title:"ℹ️ What This Does",children:["Our system uses Playwright to automate Amazon purchases. We need your login to:",(0,s.jsxs)("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsx("li",{children:"Check product availability and prices"}),s.jsx("li",{children:"Add items to cart automatically"}),s.jsx("li",{children:"Complete checkout with your saved payment method"})]})]})}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16,marginBottom:24},children:[s.jsx(m.II,{label:"Amazon Email \uD83D\uDCE7",type:"email",value:Y,onChange:e=>J(e.target.value),placeholder:"your-email@example.com",hint:"The email you use to log in to Amazon"}),s.jsx(m.II,{label:"Amazon Password \uD83D\uDD11",type:"password",value:Q,onChange:e=>ee(e.target.value),placeholder:"••••••••",hint:"Your Amazon account password (stored encrypted)"}),s.jsx(m.II,{label:"Shipping Label \uD83C\uDFF7️",value:et,onChange:e=>ea(e.target.value),placeholder:"Shopee Warehouse",hint:"Default shipping label for orders"})]}),s.jsx(u.z,{onClick:eu,variant:"primary",fullWidth:!0,disabled:v,children:"\uD83D\uDD11 Save Amazon Credentials (Encrypted)"}),s.jsx(f.Z,{platform:"amazon"})]}),"notifications"===t&&(0,s.jsxs)("div",{style:{marginTop:24},children:[s.jsx("h3",{style:{marginTop:0,marginBottom:16},children:"Alert Webhook"}),s.jsx("div",{style:{marginBottom:24},children:s.jsx(g.bZ,{variant:"info",children:"Configure Slack or Discord webhook URL to receive real-time alerts"})}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16,marginBottom:24},children:s.jsx(m.II,{label:"Webhook URL",value:er,onChange:e=>es(e.target.value),placeholder:"https://hooks.slack.com/services/...",hint:"Slack or Discord webhook URL"})}),(0,s.jsxs)("div",{style:{display:"flex",gap:12},children:[s.jsx(u.z,{onClick:em,variant:"ghost",fullWidth:!0,disabled:v,children:"\uD83E\uDDEA Test Webhook"}),s.jsx(u.z,{variant:"primary",fullWidth:!0,disabled:v,children:"\uD83D\uDCBE Save Webhook"})]})]})]}),s.jsx(y.Z,{}),b&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.Z,{pageName:"settings",steps:p.Qu,onComplete:()=>o(!1)}),!r&&s.jsx(c.M,{onClick:()=>{}})]})]})]})}async function b({locale:e}){return{props:{...await (0,o.serverSideTranslations)(e,["common"])}}}r()}catch(e){r(e)}})},1377:e=>{e.exports=require("next-i18next")},5460:e=>{e.exports=require("next-i18next/serverSideTranslations")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9816:e=>{e.exports=require("styled-jsx/style")},9648:e=>{e.exports=import("axios")},5941:e=>{e.exports=import("swr")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[332,839,552,754,107,202,438],()=>a(4806));module.exports=r})();