"use strict";(()=>{var e={};e.id=662,e.ids=[662,660],e.modules={4806:(e,t,i)=>{i.a(e,async(e,r)=>{try{i.r(t),i.d(t,{config:()=>x,default:()=>u,getServerSideProps:()=>g,getStaticPaths:()=>m,getStaticProps:()=>p,reportWebVitals:()=>v,routeModule:()=>D,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>y});var a=i(8877),s=i(4591),n=i(6021),l=i(552),o=i.n(l),d=i(5270),c=i(8106),h=e([c]);c=(h.then?(await h)():h)[0];let u=(0,n.l)(c,"default"),p=(0,n.l)(c,"getStaticProps"),m=(0,n.l)(c,"getStaticPaths"),g=(0,n.l)(c,"getServerSideProps"),x=(0,n.l)(c,"config"),v=(0,n.l)(c,"reportWebVitals"),y=(0,n.l)(c,"unstable_getStaticProps"),j=(0,n.l)(c,"unstable_getStaticPaths"),f=(0,n.l)(c,"unstable_getStaticParams"),b=(0,n.l)(c,"unstable_getServerProps"),S=(0,n.l)(c,"unstable_getServerSideProps"),D=new a.PagesRouteModule({definition:{kind:s.x.PAGES,page:"/settings",pathname:"/settings",bundlePath:"",filename:""},components:{App:d.default,Document:o()},userland:c});r()}catch(e){r(e)}})},8106:(e,t,i)=>{i.a(e,async(e,r)=>{try{i.r(t),i.d(t,{default:()=>f,getStaticProps:()=>b});var a=i(997),s=i(6689),n=i(5460),l=i(1377),o=i(5941),d=i(2684),c=i(3688),h=i(1935),u=i(2268),p=i(2304),m=i(7715),g=i(2938),x=i(1837),v=i(7029),y=i(1522),j=e([o,y]);[o,y]=j.then?(await j)():j;let S=e=>y.Z.get(e).then(e=>e.data);function f(){let{t:e}=(0,l.useTranslation)("common"),[t,i]=(0,s.useState)("general"),[r,n]=(0,s.useState)(!1),[j,f]=(0,s.useState)(!1),[b,D]=(0,s.useState)(!1),[C,P]=(0,s.useState)(!1),[I,k]=(0,s.useState)(!1),[w,B]=(0,s.useState)(0),[z,A]=(0,s.useState)(7),[E,W]=(0,s.useState)(0),[T,M]=(0,s.useState)(0),[N,Z]=(0,s.useState)(!1),[R,q]=(0,s.useState)(!1),[_,L]=(0,s.useState)(""),[F,G]=(0,s.useState)(""),[O,U]=(0,s.useState)(""),[K,$]=(0,s.useState)(""),[V,X]=(0,s.useState)(""),[H,Q]=(0,s.useState)("Shopee Warehouse"),[J,Y]=(0,s.useState)("");(0,s.useEffect)(()=>{D(!0)},[]);let{data:ee,error:et,mutate:ei}=(0,o.default)("/settings",S,{shouldRetryOnError:!1,revalidateOnFocus:!1});(0,s.useEffect)(()=>{ee&&(P(ee.includeAmazonPoints),k(ee.includeDomesticShipping),B(ee.domesticShippingCost),A(ee.maxShippingDays),W(ee.minExpectedProfit),M(ee.reviewBandPercent),Z(ee.isActive),q(ee.isDryRun))},[ee]);let er=async()=>{f(!0);try{await y.Z.post("/settings",{includeAmazonPoints:C,includeDomesticShipping:I,domesticShippingCost:w,maxShippingDays:z,minExpectedProfit:E,reviewBandPercent:T,isActive:N,isDryRun:R}),(0,v.M)("Settings saved successfully","success"),ei()}catch(e){(0,v.M)(e.response?.data?.error||"Failed to save settings","error")}finally{f(!1)}},ea=async()=>{if(!J.trim()){(0,v.M)("Please enter a webhook URL","error");return}f(!0);try{await y.Z.post(J,{text:"\uD83E\uDDEA Test notification from Shopee→Amazon Automation"}),(0,v.M)("Webhook test sent successfully","success")}catch(e){(0,v.M)("Webhook test failed","error")}finally{f(!1)}};return(0,a.jsxs)("div",{className:"shell",children:[a.jsx(d.Z,{activeHref:"/settings"}),(0,a.jsxs)("div",{className:"container",children:[a.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"48px 32px",borderRadius:"var(--radius-xl)",marginBottom:32,boxShadow:"var(--shadow-lg)"},children:(0,a.jsxs)("div",{children:[a.jsx("h1",{style:{fontSize:36,margin:0,color:"#fff"},children:"⚙️ Settings & Configuration"}),a.jsx("p",{style:{color:"rgba(255,255,255,0.9)",marginTop:8,fontSize:16},children:"Configure automation rules, platform credentials, and system preferences"})]})}),ee&&(0,a.jsxs)("div",{className:"grid grid-3",style:{marginBottom:24},children:[a.jsx(u.Zb,{children:(0,a.jsxs)("div",{style:{textAlign:"center",padding:12},children:[a.jsx("div",{style:{fontSize:32,marginBottom:8},children:N?"✅":"⏸️"}),a.jsx("div",{style:{fontSize:14,color:"var(--color-text-muted)",marginBottom:4},children:"Automation Status"}),a.jsx(x.C,{variant:N?"success":"warning",children:N?"Active":"Inactive"})]})}),a.jsx(u.Zb,{children:(0,a.jsxs)("div",{style:{textAlign:"center",padding:12},children:[a.jsx("div",{style:{fontSize:32,marginBottom:8},children:R?"\uD83E\uDDEA":"\uD83D\uDE80"}),a.jsx("div",{style:{fontSize:14,color:"var(--color-text-muted)",marginBottom:4},children:"Execution Mode"}),a.jsx(x.C,{variant:R?"info":"success",children:R?"Dry Run":"Live"})]})}),a.jsx(u.Zb,{children:(0,a.jsxs)("div",{style:{textAlign:"center",padding:12},children:[a.jsx("div",{style:{fontSize:32,marginBottom:8},children:"\uD83D\uDCB0"}),a.jsx("div",{style:{fontSize:14,color:"var(--color-text-muted)",marginBottom:4},children:"Min Expected Profit"}),(0,a.jsxs)("div",{style:{fontSize:20,fontWeight:700,color:"var(--color-success)"},children:["$",E.toFixed(2)]})]})})]}),a.jsx("div",{style:{marginBottom:24},children:(0,a.jsxs)(g.bZ,{variant:"info",children:[a.jsx("strong",{children:"Setup Instructions"}),(0,a.jsxs)("ol",{style:{marginTop:8,marginBottom:0,paddingLeft:20},children:[a.jsx("li",{children:"Configure Shopee API credentials (Partner ID, Partner Key, Shop ID)"}),a.jsx("li",{children:"Set up Amazon seller credentials (email & password for automation)"}),a.jsx("li",{children:"Define automation rules (shipping days, profit margins, pricing)"}),a.jsx("li",{children:"Test webhook notifications (Slack/Discord integration)"}),a.jsx("li",{children:"Enable automation when ready (toggle Active status)"})]})]})}),(0,a.jsxs)(u.Zb,{children:[a.jsx("div",{className:"tabs-header",style:{display:"flex",gap:"8px",borderBottom:"2px solid var(--color-border)",marginBottom:"24px",overflowX:"auto"},children:[{id:"general",label:"General",icon:"⚙️"},{id:"shopee",label:"Shopee",icon:"\uD83D\uDECD️"},{id:"amazon",label:"Amazon",icon:"\uD83D\uDCE6"},{id:"notifications",label:"Notifications",icon:"\uD83D\uDD14"}].map(e=>(0,a.jsxs)("button",{onClick:()=>i(e.id),style:{background:"none",border:"none",padding:"14px 20px",fontSize:"14px",fontWeight:t===e.id?700:500,color:t===e.id?"var(--color-primary)":"var(--color-text-muted)",cursor:"pointer",position:"relative",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s ease",borderBottom:t===e.id?"2px solid var(--color-primary)":"2px solid transparent",marginBottom:"-2px",whiteSpace:"nowrap"},children:[a.jsx("span",{children:e.icon}),a.jsx("span",{children:e.label})]},e.id))}),"general"===t&&(0,a.jsxs)("div",{style:{marginTop:24},children:[a.jsx("h3",{style:{marginTop:0,marginBottom:16},children:"Automation Rules"}),(0,a.jsxs)("div",{className:"grid grid-2",style:{gap:16,marginBottom:24},children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Max Shipping Days"}),a.jsx(m.II,{type:"number",value:z,onChange:e=>A(Number(e.target.value)),hint:"Maximum delivery time from Amazon"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Min Expected Profit ($)"}),a.jsx(m.II,{type:"number",value:E,onChange:e=>W(Number(e.target.value)),hint:"Minimum profit margin per order"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Domestic Shipping Cost ($)"}),a.jsx(m.II,{type:"number",value:w,onChange:e=>B(Number(e.target.value)),hint:"Cost for domestic shipping"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Review Band Percent (%)"}),a.jsx(m.II,{type:"number",value:T,onChange:e=>M(Number(e.target.value)),hint:"Percentage band for manual review"})]})]}),a.jsx("h3",{style:{marginBottom:16},children:"Options"}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:12,marginBottom:24},children:[(0,a.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:12,cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:C,onChange:e=>P(e.target.checked),style:{width:18,height:18}}),a.jsx("span",{children:"Include Amazon Points in calculations"})]}),(0,a.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:12,cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:I,onChange:e=>k(e.target.checked),style:{width:18,height:18}}),a.jsx("span",{children:"Include Domestic Shipping costs"})]})]}),a.jsx("h3",{style:{marginBottom:16},children:"Execution Mode"}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:12,marginBottom:24},children:[(0,a.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:12,cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:N,onChange:e=>Z(e.target.checked),style:{width:18,height:18}}),a.jsx("span",{style:{fontWeight:600},children:"Enable Automation"})]}),(0,a.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:12,cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:R,onChange:e=>q(e.target.checked),style:{width:18,height:18}}),a.jsx("span",{children:"Dry Run Mode (test without actual orders)"})]})]}),a.jsx(p.z,{onClick:er,variant:"primary",fullWidth:!0,disabled:j,children:"\uD83D\uDCBE Save General Settings"})]}),"shopee"===t&&(0,a.jsxs)("div",{style:{marginTop:24},children:[a.jsx("h3",{style:{marginTop:0,marginBottom:16},children:"Shopee API Credentials"}),a.jsx("div",{style:{marginBottom:24},children:a.jsx(g.bZ,{variant:"warning",children:"Get your Shopee Partner credentials from the Shopee Open Platform"})}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16,marginBottom:24},children:[a.jsx(m.II,{label:"Partner ID",value:_,onChange:e=>L(e.target.value),placeholder:"Enter Shopee Partner ID"}),a.jsx(m.II,{label:"Partner Key",type:"password",value:F,onChange:e=>G(e.target.value),placeholder:"Enter Shopee Partner Key"}),a.jsx(m.II,{label:"Shop ID",value:O,onChange:e=>U(e.target.value),placeholder:"Enter Shop ID"})]}),a.jsx(p.z,{variant:"primary",fullWidth:!0,disabled:j,children:"\uD83D\uDD11 Save Shopee Credentials"})]}),"amazon"===t&&(0,a.jsxs)("div",{style:{marginTop:24},children:[a.jsx("h3",{style:{marginTop:0,marginBottom:16},children:"Amazon Seller Credentials"}),a.jsx("div",{style:{marginBottom:24},children:a.jsx(g.bZ,{variant:"warning",children:"These credentials are used for automated browser login to Amazon Seller Central"})}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16,marginBottom:24},children:[a.jsx(m.II,{label:"Amazon Email",type:"email",value:K,onChange:e=>$(e.target.value),placeholder:"your-email@example.com"}),a.jsx(m.II,{label:"Amazon Password",type:"password",value:V,onChange:e=>X(e.target.value),placeholder:"••••••••"}),a.jsx(m.II,{label:"Shipping Label",value:H,onChange:e=>Q(e.target.value),placeholder:"Shopee Warehouse",hint:"Default shipping label for orders"})]}),a.jsx(p.z,{variant:"primary",fullWidth:!0,disabled:j,children:"\uD83D\uDD11 Save Amazon Credentials"})]}),"notifications"===t&&(0,a.jsxs)("div",{style:{marginTop:24},children:[a.jsx("h3",{style:{marginTop:0,marginBottom:16},children:"Alert Webhook"}),a.jsx("div",{style:{marginBottom:24},children:a.jsx(g.bZ,{variant:"info",children:"Configure Slack or Discord webhook URL to receive real-time alerts"})}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16,marginBottom:24},children:a.jsx(m.II,{label:"Webhook URL",value:J,onChange:e=>Y(e.target.value),placeholder:"https://hooks.slack.com/services/...",hint:"Slack or Discord webhook URL"})}),(0,a.jsxs)("div",{style:{display:"flex",gap:12},children:[a.jsx(p.z,{onClick:ea,variant:"ghost",fullWidth:!0,disabled:j,children:"\uD83E\uDDEA Test Webhook"}),a.jsx(p.z,{variant:"primary",fullWidth:!0,disabled:j,children:"\uD83D\uDCBE Save Webhook"})]})]})]}),a.jsx(v.Z,{}),b&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(c.Z,{pageName:"settings",steps:h.Qu,onComplete:()=>n(!1)}),!r&&a.jsx(c.M,{onClick:()=>{}})]})]})]})}async function b({locale:e}){return{props:{...await (0,n.serverSideTranslations)(e,["common"])}}}r()}catch(e){r(e)}})},1377:e=>{e.exports=require("next-i18next")},5460:e=>{e.exports=require("next-i18next/serverSideTranslations")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9648:e=>{e.exports=import("axios")},5941:e=>{e.exports=import("swr")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[332,839,552,754,52,202,438],()=>i(4806));module.exports=r})();